class d{constructor(e,s,t="InheritedWidget"){this.name=e,this.location=s,this.superClass=t,this.properties=[],this.staticAccessors=[],this.methods=[],this.updateShouldNotifyImplemented=!1,this.hasChildProperty=!1,this.usageCount=0,this.usedIn=[],this.providedByWidgets=[]}addProperty(e,s,t=!1){this.properties.push({name:e,type:s,required:t,description:null}),e==="child"&&(this.hasChildProperty=!0)}addStaticAccessor(e,s,t,r=!0){this.staticAccessors.push({name:e,signature:s,usesInheritedWidgetLookup:r,location:t})}recordUsage(e){this.usedIn.includes(e)||(this.usedIn.push(e),this.usageCount++)}recordProvider(e){this.providedByWidgets.includes(e)||this.providedByWidgets.push(e)}validate(){const e=[];return this.hasChildProperty||e.push({type:"missing-child-property",severity:"warning",message:`InheritedWidget "${this.name}" should have a 'child' property`}),this.staticAccessors.length===0&&e.push({type:"missing-static-accessor",severity:"warning",message:`InheritedWidget "${this.name}" should have a static of() method`}),this.updateShouldNotifyImplemented||e.push({type:"missing-update-notification",severity:"error",message:`InheritedWidget "${this.name}" must implement updateShouldNotify()`}),e}summary(){return{name:this.name,superClass:this.superClass,properties:this.properties.length,staticAccessors:this.staticAccessors.length,usageCount:this.usageCount,usedIn:this.usedIn,providedBy:this.providedByWidgets,isValid:this.updateShouldNotifyImplemented}}}class u{constructor(e,s){this.name=e,this.location=s,this.type="ChangeNotifier",this.properties=[],this.getters=[],this.methods=[],this.setters=[],this.isUsedWithProvider=!1,this.providedType=null,this.consumers=[],this.subscriptions=[]}addProperty(e,s,t=null){this.properties.push({name:e,type:s,initialValue:t,mutable:!0})}addGetter(e,s,t){this.getters.push({name:e,returnType:s,location:t,isComputed:!1})}addMethod(e,s,t=!1,r=[]){this.methods.push({name:e,location:s,callsNotifyListeners:t,mutatesFields:r,isAsync:!1,parameters:[]})}recordConsumer(e,s="watch"){this.consumers.includes(e)||this.consumers.push(e),this.subscriptions.push({consumer:e,accessPattern:s,timestamp:new Date})}validate(){const e=[];return!this.methods.some(t=>t.callsNotifyListeners)&&this.methods.length>0&&e.push({type:"missing-notify-listeners",severity:"warning",message:`ChangeNotifier "${this.name}" has methods but none call notifyListeners()`}),this.methods.forEach(t=>{t.mutatesFields.length>0&&!t.callsNotifyListeners&&e.push({type:"mutation-without-notification",severity:"warning",message:`Method "${t.name}" mutates state but doesn't call notifyListeners()`})}),this.properties.length>0&&this.getters.length===0&&e.push({type:"missing-getters",severity:"info",message:`ChangeNotifier "${this.name}" has properties but no getters. Consider adding getters for encapsulation.`}),e}summary(){return{name:this.name,properties:this.properties.length,getters:this.getters.length,methods:this.methods.length,consumers:this.consumers.length,consumedBy:this.consumers,isValid:this.methods.some(e=>e.callsNotifyListeners)}}}class c{constructor(e,s,t){this.providerType=e,this.location=s,this.valueType=t,this.createFunction=null,this.lazy=!0,this.dispose=null,this.child=null,this.consumers=[],this.accessPatterns=[],this.flowPath=null}setCreateFunction(e){this.createFunction=e}setDispose(e){this.dispose=e}addConsumer(e){this.consumers.includes(e)||this.consumers.push(e)}addAccessPattern(e){this.accessPatterns.includes(e)||this.accessPatterns.push(e)}validate(){const e=[];return this.createFunction||e.push({type:"missing-create",severity:"error",message:`Provider<${this.valueType}> must have a create function`}),this.consumers.length===0&&e.push({type:"unused-provider",severity:"info",message:`Provider<${this.valueType}> is defined but not consumed by any widget`}),this.accessPatterns.includes("watch")&&!this.accessPatterns.includes("read")&&e.push({type:"watch-without-read",severity:"info",message:"Provider uses context.watch() but not context.read(). Consider both patterns."}),e}summary(){return{type:this.providerType,valueType:this.valueType,consumers:this.consumers.length,consumedBy:this.consumers,accessPatterns:this.accessPatterns,hasCreateFunction:!!this.createFunction,hasDisposeFunction:!!this.dispose}}}class l{constructor(e,s="build"){this.dependent=e,this.method=s,this.contextUsage=[],this.location=null}addUsage(e){e instanceof n&&this.contextUsage.push(e)}getSsrSafeUsages(){return this.contextUsage.filter(e=>e.ssrSafe)}getSsrUnsafeUsages(){return this.contextUsage.filter(e=>!e.ssrSafe)}isSsrCompatible(){return this.getSsrUnsafeUsages().length===0}summary(){return{dependent:this.dependent,method:this.method,totalUsages:this.contextUsage.length,ssrSafeUsages:this.getSsrSafeUsages().length,ssrUnsafeUsages:this.getSsrUnsafeUsages().length,isSsrCompatible:this.isSsrCompatible(),usagePatterns:this.contextUsage.map(e=>e.pattern)}}}class n{constructor(e,s,t,r="T",a=!0,o=""){this.pattern=e,this.type=s,this.location=t,this.returns=r,this.ssrSafe=a,this.reason=o,this.depth=0,this.frequency=1}explain(){return this.ssrSafe?`\u2713 SSR Safe: ${this.reason}`:`\u2717 SSR Unsafe: ${this.reason}`}getMigrationAdvice(){return this.ssrSafe?null:{"provider-watch":"Replace with context.read() for initial SSR render, use watch() in didChangeDependencies() on client","global-state-mutation":"Move mutations to client-only code, wrap in if (!kIsWeb) or similar server check","event-handler":"Event handlers don't exist during SSR, only attach after hydration on client"}[this.type]||null}summary(){return{pattern:this.pattern,type:this.type,returns:this.returns,ssrSafe:this.ssrSafe,reason:this.reason,advice:this.getMigrationAdvice()}}}class h{constructor(e,s,t=0){this.dependency=e,this.reason=s,this.order=t,this.requiredProviders=[],this.requiredState=[]}requiresProvider(e){this.requiredProviders.includes(e)||this.requiredProviders.push(e)}requiresState(e){this.requiredState.includes(e)||this.requiredState.push(e)}summary(){return{dependency:this.dependency,reason:this.reason,order:this.order,requiredProviders:this.requiredProviders,requiredState:this.requiredState}}}class p{constructor(e,s,t="unknown",r="widget"){this.target=e,this.reason=s,this.estimatedSize=t,this.type=r,this.recommendation=null,this.priority="medium"}setRecommendation(e){this.recommendation=e}calculatePriority(e){e>50?this.priority="high":e>20?this.priority="medium":this.priority="low"}summary(){return{target:this.target,type:this.type,reason:this.reason,estimatedSize:this.estimatedSize,priority:this.priority,recommendation:this.recommendation}}}class m{constructor(){this.requiresThemeProvider=!1,this.requiresMediaQuery=!1,this.requiresNavigator=!1,this.requiresChangeNotifierProvider=!1,this.customInheritedWidgets=[],this.requiredProviders=[],this.hydrationRequired=!1,this.hydrationDependencies=[],this.ssrCompatibility="unknown",this.ssrIssues=[],this.ssrMigrationPath=[]}addCustomInheritedWidget(e){this.customInheritedWidgets.includes(e)||this.customInheritedWidgets.push(e)}addRequiredProvider(e){this.requiredProviders.includes(e)||this.requiredProviders.push(e)}addHydrationDependency(e){e instanceof h&&(this.hydrationDependencies.push(e),this.hydrationRequired=!0)}calculateSsrCompatibility(){this.ssrIssues.length===0?this.ssrCompatibility="full":this.ssrIssues.length<=3?this.ssrCompatibility="partial":this.ssrCompatibility="none"}summary(){return{requiresThemeProvider:this.requiresThemeProvider,requiresMediaQuery:this.requiresMediaQuery,requiresNavigator:this.requiresNavigator,requiresChangeNotifierProvider:this.requiresChangeNotifierProvider,customInheritedWidgets:this.customInheritedWidgets,requiredProviders:this.requiredProviders,hydrationRequired:this.hydrationRequired,hydrationCount:this.hydrationDependencies.length,ssrCompatibility:this.ssrCompatibility,ssrIssueCount:this.ssrIssues.length}}}export{u as ChangeNotifierAnalysis,l as ContextDependency,m as ContextRequirementsSummary,n as ContextUsagePattern,h as HydrationRequirement,d as InheritedWidgetMetadata,p as LazyLoadOpportunity,c as ProviderAnalysis};
//# sourceMappingURL=context_analyzer_data.js.map
