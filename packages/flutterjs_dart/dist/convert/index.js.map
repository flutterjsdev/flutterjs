{
  "version": 3,
  "sources": ["../../src/convert/index.js"],
  "sourcesContent": ["// dart:convert implementation\r\n\r\n// --- Encoding Base Class ---\r\nexport class Encoding {\r\n    name = \"unknown\";\r\n\r\n    decode(bytes) {\r\n        throw new Error(\"Unimplemented: Encoding.decode\");\r\n    }\r\n\r\n    encode(string) {\r\n        throw new Error(\"Unimplemented: Encoding.encode\");\r\n    }\r\n\r\n    static getByName(name) {\r\n        if (name === 'utf-8' || name === 'utf8') return utf8;\r\n        if (name === 'json') return json;\r\n        // fallback\r\n        return null;\r\n    }\r\n}\r\n\r\n// --- JSON ---\r\nexport const json = {\r\n    decode: (source) => JSON.parse(source),\r\n    encode: (object) => JSON.stringify(object),\r\n};\r\n\r\nexport function jsonDecode(source) {\r\n    return JSON.parse(source);\r\n}\r\n\r\nexport function jsonEncode(object) {\r\n    return JSON.stringify(object);\r\n}\r\n\r\n// --- UTF8 ---\r\n// Can likely assume Timer/Browser env has TextEncoder/TextDecoder\r\nconst _encoder = typeof TextEncoder !== 'undefined' ? new TextEncoder() : null;\r\nconst _decoder = typeof TextDecoder !== 'undefined' ? new TextDecoder() : null;\r\n\r\nexport const utf8 = {\r\n    name: 'utf-8',\r\n    encode: (string) => {\r\n        if (_encoder) return _encoder.encode(string);\r\n        // Fallback or error if not in browser/node\r\n        return new Uint8Array(Buffer.from(string, 'utf-8'));\r\n    },\r\n    decode: (bytes) => {\r\n        if (_decoder) return _decoder.decode(bytes);\r\n        return Buffer.from(bytes).toString('utf-8');\r\n    }\r\n};\r\n\r\n// --- Base64 ---\r\nexport class base64 {\r\n    static encode(bytes) {\r\n        let binary = '';\r\n        const len = bytes.byteLength;\r\n        for (let i = 0; i < len; i++) {\r\n            binary += String.fromCharCode(bytes[i]);\r\n        }\r\n        return btoa(binary);\r\n    }\r\n    static decode(source) {\r\n        const binary = atob(source);\r\n        const len = binary.length;\r\n        const bytes = new Uint8Array(len);\r\n        for (let i = 0; i < len; i++) {\r\n            bytes[i] = binary.charCodeAt(i);\r\n        }\r\n        return bytes;\r\n    }\r\n}\r\n\r\nexport class Converter {\r\n    convert(input) { return input; }\r\n}\r\n\r\nexport class Codec {\r\n    get encoder() { return new Converter(); }\r\n    get decoder() { return new Converter(); }\r\n    encode(input) { return this.encoder.convert(input); }\r\n    decode(input) { return this.decoder.convert(input); }\r\n}\r\n\r\nexport class Utf8Encoder extends Converter {}\r\nexport class Utf8Decoder extends Converter {}\r\n\r\nexport function base64Encode(bytes) {\r\n    return base64.encode(bytes);\r\n}\r\n\r\nexport function base64Decode(source) {\r\n    return base64.decode(source);\r\n}\r\n"],
  "mappings": "wKAGO,MAAMA,CAAS,CAAf,cACHC,EAAA,YAAO,WAEP,OAAOC,EAAO,CACV,MAAM,IAAI,MAAM,gCAAgC,CACpD,CAEA,OAAOC,EAAQ,CACX,MAAM,IAAI,MAAM,gCAAgC,CACpD,CAEA,OAAO,UAAUC,EAAM,CACnB,OAAIA,IAAS,SAAWA,IAAS,OAAeC,EAC5CD,IAAS,OAAeE,EAErB,IACX,CACJ,CAGO,MAAMA,EAAO,CAChB,OAASC,GAAW,KAAK,MAAMA,CAAM,EACrC,OAASC,GAAW,KAAK,UAAUA,CAAM,CAC7C,EAEO,SAASC,EAAWF,EAAQ,CAC/B,OAAO,KAAK,MAAMA,CAAM,CAC5B,CAEO,SAASG,EAAWF,EAAQ,CAC/B,OAAO,KAAK,UAAUA,CAAM,CAChC,CAIA,MAAMG,EAAW,OAAO,YAAgB,IAAc,IAAI,YAAgB,KACpEC,EAAW,OAAO,YAAgB,IAAc,IAAI,YAAgB,KAE7DP,EAAO,CAChB,KAAM,QACN,OAASF,GACDQ,EAAiBA,EAAS,OAAOR,CAAM,EAEpC,IAAI,WAAW,OAAO,KAAKA,EAAQ,OAAO,CAAC,EAEtD,OAASD,GACDU,EAAiBA,EAAS,OAAOV,CAAK,EACnC,OAAO,KAAKA,CAAK,EAAE,SAAS,OAAO,CAElD,EAGO,MAAMW,CAAO,CAChB,OAAO,OAAOX,EAAO,CACjB,IAAIY,EAAS,GACb,MAAMC,EAAMb,EAAM,WAClB,QAASc,EAAI,EAAGA,EAAID,EAAKC,IACrBF,GAAU,OAAO,aAAaZ,EAAMc,CAAC,CAAC,EAE1C,OAAO,KAAKF,CAAM,CACtB,CACA,OAAO,OAAOP,EAAQ,CAClB,MAAMO,EAAS,KAAKP,CAAM,EACpBQ,EAAMD,EAAO,OACbZ,EAAQ,IAAI,WAAWa,CAAG,EAChC,QAASC,EAAI,EAAGA,EAAID,EAAKC,IACrBd,EAAMc,CAAC,EAAIF,EAAO,WAAWE,CAAC,EAElC,OAAOd,CACX,CACJ,CAEO,MAAMe,CAAU,CACnB,QAAQC,EAAO,CAAE,OAAOA,CAAO,CACnC,CAEO,MAAMC,CAAM,CACf,IAAI,SAAU,CAAE,OAAO,IAAIF,CAAa,CACxC,IAAI,SAAU,CAAE,OAAO,IAAIA,CAAa,CACxC,OAAOC,EAAO,CAAE,OAAO,KAAK,QAAQ,QAAQA,CAAK,CAAG,CACpD,OAAOA,EAAO,CAAE,OAAO,KAAK,QAAQ,QAAQA,CAAK,CAAG,CACxD,CAEO,MAAME,UAAoBH,CAAU,CAAC,CACrC,MAAMI,UAAoBJ,CAAU,CAAC,CAErC,SAASK,EAAapB,EAAO,CAChC,OAAOW,EAAO,OAAOX,CAAK,CAC9B,CAEO,SAASqB,EAAahB,EAAQ,CACjC,OAAOM,EAAO,OAAON,CAAM,CAC/B",
  "names": ["Encoding", "__publicField", "bytes", "string", "name", "utf8", "json", "source", "object", "jsonDecode", "jsonEncode", "_encoder", "_decoder", "base64", "binary", "len", "i", "Converter", "input", "Codec", "Utf8Encoder", "Utf8Decoder", "base64Encode", "base64Decode"]
}
