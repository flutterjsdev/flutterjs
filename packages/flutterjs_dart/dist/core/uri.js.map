{
  "version": 3,
  "sources": ["../../src/core/uri.js"],
  "sourcesContent": ["// Copyright 2025 The FlutterJS Authors. All rights reserved.\r\n// Use of this source code is governed by a BSD-style license that can be\r\n// found in the LICENSE file.\r\n\r\nexport class Uri {\r\n    constructor({ scheme, userInfo, host, port, path, query, fragment }) {\r\n        this._scheme = scheme || '';\r\n        this._userInfo = userInfo || '';\r\n        this._host = host || '';\r\n        this._port = port || null;\r\n        this._path = path || '';\r\n        this._query = query || '';\r\n        this._fragment = fragment || '';\r\n    }\r\n\r\n    get scheme() {\r\n        return this._scheme;\r\n    }\r\n\r\n    get path() {\r\n        return this._path;\r\n    }\r\n\r\n    static get base() {\r\n        if (typeof window !== 'undefined' && window.location) {\r\n            // Browser environment\r\n            const loc = window.location;\r\n            let scheme = loc.protocol.replace(':', '');\r\n            return new Uri({\r\n                scheme: scheme,\r\n                host: loc.hostname,\r\n                port: loc.port ? parseInt(loc.port) : null,\r\n                path: loc.pathname,\r\n                query: loc.search,\r\n                fragment: loc.hash\r\n            });\r\n        }\r\n        // Fallback for Node/other env\r\n        return new Uri({ scheme: 'file', path: '/' });\r\n    }\r\n\r\n    toFilePath({ windows } = {}) {\r\n        // Simple implementation for now\r\n        return this._path;\r\n    }\r\n\r\n    toString() {\r\n        // Basic reconstruction\r\n        let str = '';\r\n        if (this._scheme) str += this._scheme + ':';\r\n        if (this._host) {\r\n            str += '//';\r\n            if (this._userInfo) str += this._userInfo + '@';\r\n            str += this._host;\r\n            if (this._port) str += ':' + this._port;\r\n        }\r\n        str += this._path;\r\n        if (this._query) str += this._query;\r\n        if (this._fragment) str += this._fragment;\r\n        return str;\r\n    }\r\n\r\n    static parse(uri) {\r\n        // Very basic parser for now, sufficient for tests/simple usage\r\n        // TODO: Implement full RFC 3986 parser\r\n        try {\r\n            // Use browser/node URL API if available\r\n            const u = new URL(uri);\r\n            return new Uri({\r\n                scheme: u.protocol.replace(':', ''),\r\n                host: u.hostname,\r\n                port: u.port ? parseInt(u.port) : null,\r\n                path: u.pathname,\r\n                query: u.search,\r\n                fragment: u.hash\r\n            });\r\n        } catch (e) {\r\n            // Fallback or error\r\n            return new Uri({ path: uri });\r\n        }\r\n    }\r\n}\r\n"],
  "mappings": "AAIO,MAAMA,CAAI,CACb,YAAY,CAAE,OAAAC,EAAQ,SAAAC,EAAU,KAAAC,EAAM,KAAAC,EAAM,KAAAC,EAAM,MAAAC,EAAO,SAAAC,CAAS,EAAG,CACjE,KAAK,QAAUN,GAAU,GACzB,KAAK,UAAYC,GAAY,GAC7B,KAAK,MAAQC,GAAQ,GACrB,KAAK,MAAQC,GAAQ,KACrB,KAAK,MAAQC,GAAQ,GACrB,KAAK,OAASC,GAAS,GACvB,KAAK,UAAYC,GAAY,EACjC,CAEA,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CAEA,IAAI,MAAO,CACP,OAAO,KAAK,KAChB,CAEA,WAAW,MAAO,CACd,GAAI,OAAO,OAAW,KAAe,OAAO,SAAU,CAElD,MAAMC,EAAM,OAAO,SACnB,IAAIP,EAASO,EAAI,SAAS,QAAQ,IAAK,EAAE,EACzC,OAAO,IAAIR,EAAI,CACX,OAAQC,EACR,KAAMO,EAAI,SACV,KAAMA,EAAI,KAAO,SAASA,EAAI,IAAI,EAAI,KACtC,KAAMA,EAAI,SACV,MAAOA,EAAI,OACX,SAAUA,EAAI,IAClB,CAAC,CACL,CAEA,OAAO,IAAIR,EAAI,CAAE,OAAQ,OAAQ,KAAM,GAAI,CAAC,CAChD,CAEA,WAAW,CAAE,QAAAS,CAAQ,EAAI,CAAC,EAAG,CAEzB,OAAO,KAAK,KAChB,CAEA,UAAW,CAEP,IAAIC,EAAM,GACV,OAAI,KAAK,UAASA,GAAO,KAAK,QAAU,KACpC,KAAK,QACLA,GAAO,KACH,KAAK,YAAWA,GAAO,KAAK,UAAY,KAC5CA,GAAO,KAAK,MACR,KAAK,QAAOA,GAAO,IAAM,KAAK,QAEtCA,GAAO,KAAK,MACR,KAAK,SAAQA,GAAO,KAAK,QACzB,KAAK,YAAWA,GAAO,KAAK,WACzBA,CACX,CAEA,OAAO,MAAMC,EAAK,CAGd,GAAI,CAEA,MAAMC,EAAI,IAAI,IAAID,CAAG,EACrB,OAAO,IAAIX,EAAI,CACX,OAAQY,EAAE,SAAS,QAAQ,IAAK,EAAE,EAClC,KAAMA,EAAE,SACR,KAAMA,EAAE,KAAO,SAASA,EAAE,IAAI,EAAI,KAClC,KAAMA,EAAE,SACR,MAAOA,EAAE,OACT,SAAUA,EAAE,IAChB,CAAC,CACL,MAAY,CAER,OAAO,IAAIZ,EAAI,CAAE,KAAMW,CAAI,CAAC,CAChC,CACJ,CACJ",
  "names": ["Uri", "scheme", "userInfo", "host", "port", "path", "query", "fragment", "loc", "windows", "str", "uri", "u"]
}
