import{StatelessWidget as M}from"../core/widget_element.js";import{VNode as x}from"@flutterjs/vdom/vnode";import{BlendMode as a,TextDirection as g}from"../utils/utils.js";const b=24,D=24,_={[a.srcOver]:"normal",[a.srcIn]:"multiply",[a.srcOut]:"lighten",[a.srcATop]:"screen",[a.dstOver]:"overlay",[a.dstIn]:"darken",[a.dstOut]:"color-dodge",[a.dstATop]:"color-burn",[a.plus]:"lighten",[a.screen]:"screen",[a.overlay]:"overlay",[a.darken]:"darken",[a.lighten]:"lighten",[a.colorDodge]:"color-dodge",[a.colorBurn]:"color-burn",[a.hardLight]:"hard-light",[a.softLight]:"soft-light",[a.difference]:"difference",[a.exclusion]:"exclusion",[a.multiply]:"multiply",[a.hue]:"hue",[a.saturation]:"saturation",[a.color]:"color",[a.luminosity]:"luminosity"};class i{constructor({codePoint:t=0,fontFamily:e="Material Icons",fontPackage:n=null,matchTextDirection:o=!1,fontFamilyFallback:l=null}={}){this.codePoint=t,this.fontFamily=e,this.fontPackage=n,this.matchTextDirection=o,this.fontFamilyFallback=Array.isArray(l)?l:null}getCharacter(){return String.fromCharCode(this.codePoint)}toString(){return`IconData(U+${this.codePoint.toString(16).toUpperCase().padStart(5,"0")})`}equals(t){return!t||!(t instanceof i)?!1:this.codePoint===t.codePoint&&this.fontFamily===t.fontFamily&&this.fontPackage===t.fontPackage&&this.matchTextDirection===t.matchTextDirection&&this._arrayEquals(this.fontFamilyFallback,t.fontFamilyFallback)}_arrayEquals(t,e){return!t&&!e?!0:!t||!e||t.length!==e.length?!1:t.every((n,o)=>n===e[o])}hashCode(){let t=this.codePoint;return t=(t<<5)-t+(this.fontFamily?this.fontFamily.charCodeAt(0):0),t=(t<<5)-t+(this.matchTextDirection?1:0),this.fontFamilyFallback&&this.fontFamilyFallback.forEach(e=>{t=(t<<5)-t+(e?e.charCodeAt(0):0)}),t}}class y{constructor({color:t=null,opacity:e=1,size:n=b,fill:o=null,weight:l=null,grade:s=null,opticalSize:r=null,shadows:c=null,applyTextScaling:d=!1}={}){this.color=t,this.opacity=e,this.size=n,this.fill=o,this.weight=l,this.grade=s,this.opticalSize=r,this.shadows=c,this.applyTextScaling=d}copyWith({color:t,opacity:e,size:n,fill:o,weight:l,grade:s,opticalSize:r,shadows:c,applyTextScaling:d}={}){return new y({color:t!==void 0?t:this.color,opacity:e!==void 0?e:this.opacity,size:n!==void 0?n:this.size,fill:o!==void 0?o:this.fill,weight:l!==void 0?l:this.weight,grade:s!==void 0?s:this.grade,opticalSize:r!==void 0?r:this.opticalSize,shadows:c!==void 0?c:this.shadows,applyTextScaling:d!==void 0?d:this.applyTextScaling})}}class T extends M{constructor(t,e={}){let n=null,o={};t&&(t.constructor?.name==="IconData"||t.codePoint!==void 0)?(n=t,o=e):(o=t||{},n=o.icon);const{key:l=null,size:s=null,fill:r=null,weight:c=null,grade:d=null,opticalSize:u=null,color:w=null,shadows:h=null,semanticLabel:p=null,textDirection:f=null,applyTextScaling:F=null,blendMode:I=null,fontWeight:m=null}=o;if(super(l),r!==null&&(r<0||r>1))throw new Error("fill must be between 0.0 and 1.0");if(c!==null&&c<=0)throw new Error("weight must be greater than 0.0");if(u!==null&&u<=0)throw new Error("opticalSize must be greater than 0.0");this.icon=n,this.size=s,this.fill=r,this.weight=c,this.grade=d,this.opticalSize=u,this.color=w,this.shadows=h,this.semanticLabel=p,this.textDirection=f,this.applyTextScaling=F,this.blendMode=I||a.srcOver,this.fontWeight=m,this._injectFont()}_injectFont(){if(typeof document>"u"||document.getElementById("flutterjs-material-icons"))return;const t=document.createElement("link");t.id="flutterjs-material-icons",t.rel="stylesheet",t.href="https://fonts.googleapis.com/icon?family=Material+Icons",document.head.appendChild(t)}build(t){this._injectFont();const e=this.textDirection||this._getTextDirection(t),n=this._getIconTheme(t)||new y,o=this.applyTextScaling??n.applyTextScaling??!1,l=this.size??n.size??b,s=o?this._scaleTextSize(l,t):l,r=this.fill??n.fill,c=this.weight??n.weight,d=this.grade??n.grade,u=this.opticalSize??n.opticalSize,w=this.shadows??n.shadows,h=this.icon;if(!h||h.codePoint===void 0&&!(h instanceof i))return this._buildEmptyIcon(s);const p=n.opacity??1;let f=this.color??n.color??"#000000";p!==1&&(f=this._applyOpacity(f,p));const F=this._buildFontVariations(r,c,d,u),I=this._buildInlineStyles({color:f,fontSize:s,fontFamily:h.fontFamily,fontWeight:this.fontWeight,fontFamilyFallback:h.fontFamilyFallback,shadows:w,fontVariations:F,blendMode:this.blendMode,textDirection:e});let m=this._buildIconElement(h,I);h.matchTextDirection&&e===g.rtl&&(m=this._mirrorIcon(m,s));const S=t?.element?.getElementId?.()||"icon-"+Math.random().toString(36).substr(2,9),P=t?.element?.getWidgetPath?.()||"Icon";return new x({tag:"span",props:{role:"img","aria-label":this.semanticLabel||"Icon","data-element-id":S,"data-widget-path":P,"data-widget":"Icon","data-icon-codepoint":`U+${h.codePoint.toString(16).toUpperCase()}`,title:this.semanticLabel||"",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${s}px`,height:`${s}px`}},children:[m],key:this.key})}_buildEmptyIcon(t){return new x({tag:"span",props:{style:{display:"inline-block",width:`${t}px`,height:`${t}px`}}})}_buildIconElement(t,e){return new x({tag:"span",props:{className:"fjs-icon",style:{...e,display:"inline-flex",alignItems:"center",justifyContent:"center",lineHeight:"1.0",whiteSpace:"nowrap"}},children:[t.getCharacter()]})}_mirrorIcon(t,e){return new x({tag:"span",props:{style:{display:"inline-flex",transform:"scaleX(-1)",transformOrigin:"center",width:`${e}px`,height:`${e}px`,alignItems:"center",justifyContent:"center"}},children:[t]})}_buildInlineStyles({color:t,fontSize:e,fontFamily:n,fontWeight:o,fontFamilyFallback:l,shadows:s,fontVariations:r,blendMode:c,textDirection:d}){const u={fontSize:`${e}px`,fontFamily:this._buildFontFamily(n,l),color:t,fontVariationSettings:r,textShadow:this._buildTextShadow(s),mixBlendMode:_[c]||"normal",direction:d===g.rtl?"rtl":"ltr",lineHeight:"1.0",height:"1em",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"};return o&&(u.fontWeight=this._normalizeFontWeight(o)),u}_buildFontFamily(t,e){if(!t)return"'Material Icons', Arial, sans-serif";const n=[t];return Array.isArray(e)&&e.length>0&&n.push(...e),n.push("Arial","sans-serif"),n.map(o=>`'${o}'`).join(", ")}_buildFontVariations(t,e,n,o){const l=[];return t!=null&&l.push(`'FILL' ${t}`),e!=null&&l.push(`'wght' ${e}`),n!=null&&l.push(`'GRAD' ${n}`),o!=null&&l.push(`'opsz' ${o}`),l.length>0?l.join(", "):"normal"}_buildTextShadow(t){return!t||!Array.isArray(t)?"none":t.map(e=>{const n=e.offsetX??0,o=e.offsetY??0,l=e.blurRadius??0,s=e.color??"rgba(0, 0, 0, 0.25)";return`${n}px ${o}px ${l}px ${s}`}).join(", ")}_normalizeFontWeight(t){const e={thin:"100",extralight:"200",light:"300",normal:"400",regular:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"};return typeof t=="string"?e[t.toLowerCase()]||t:String(t)}_applyOpacity(t,e){if(!t)return t;if(t.startsWith("#")){const n=t.slice(1),o=parseInt(n.substring(0,2),16),l=parseInt(n.substring(2,4),16),s=parseInt(n.substring(4,6),16);return`rgba(${o}, ${l}, ${s}, ${e})`}return t.startsWith("rgb")?t.replace(/[\d.]+\)/,`${e})`):t}_getTextDirection(t){return typeof document<"u"?(document.documentElement.dir||document.dir||"ltr")==="rtl"?g.rtl:g.ltr:g.ltr}_getIconTheme(t){return new y}_scaleTextSize(t,e){return t}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"icon",value:this.icon}),t.push({name:"size",value:this.size}),t.push({name:"fill",value:this.fill}),t.push({name:"weight",value:this.weight}),t.push({name:"grade",value:this.grade}),t.push({name:"opticalSize",value:this.opticalSize}),t.push({name:"color",value:this.color}),t.push({name:"blendMode",value:this.blendMode}),t.push({name:"semanticLabel",value:this.semanticLabel}),this.shadows&&t.push({name:"shadows",value:this.shadows})}}const z={home:new i({codePoint:59530,fontFamily:"Material Icons"}),settings:new i({codePoint:59576,fontFamily:"Material Icons"}),search:new i({codePoint:59574,fontFamily:"Material Icons"}),favorite:new i({codePoint:59518,fontFamily:"Material Icons"}),favoriteBorder:new i({codePoint:59595,fontFamily:"Material Icons"}),star:new i({codePoint:59448,fontFamily:"Material Icons"}),starBorder:new i({codePoint:59451,fontFamily:"Material Icons"}),close:new i({codePoint:58829,fontFamily:"Material Icons"}),menu:new i({codePoint:58834,fontFamily:"Material Icons"}),arrowBack:new i({codePoint:58848,fontFamily:"Material Icons"}),arrowForward:new i({codePoint:58849,fontFamily:"Material Icons"}),add:new i({codePoint:57669,fontFamily:"Material Icons"}),delete:new i({codePoint:59506,fontFamily:"Material Icons"}),edit:new i({codePoint:58313,fontFamily:"Material Icons"}),check:new i({codePoint:58826,fontFamily:"Material Icons"}),checkCircle:new i({codePoint:59500,fontFamily:"Material Icons"}),error:new i({codePoint:59267,fontFamily:"Material Icons"}),errorOutline:new i({codePoint:57345,fontFamily:"Material Icons"}),info:new i({codePoint:59535,fontFamily:"Material Icons"}),warning:new i({codePoint:57346,fontFamily:"Material Icons"}),download:new i({codePoint:58052,fontFamily:"Material Icons"}),upload:new i({codePoint:58054,fontFamily:"Material Icons"}),refresh:new i({codePoint:58837,fontFamily:"Material Icons"}),moreVert:new i({codePoint:58836,fontFamily:"Material Icons"}),moreHoriz:new i({codePoint:58835,fontFamily:"Material Icons"})};export{T as Icon,i as IconData,y as IconThemeData,z as Icons};
//# sourceMappingURL=icon.js.map
