import{StatelessWidget as S}from"../core/widget_element.js";import{VNode as p}from"@flutterjs/vdom/vnode";import{BlendMode as a,TextDirection as m}from"../utils/utils.js";const F=24,D=24,_={[a.srcOver]:"normal",[a.srcIn]:"multiply",[a.srcOut]:"lighten",[a.srcATop]:"screen",[a.dstOver]:"overlay",[a.dstIn]:"darken",[a.dstOut]:"color-dodge",[a.dstATop]:"color-burn",[a.plus]:"lighten",[a.screen]:"screen",[a.overlay]:"overlay",[a.darken]:"darken",[a.lighten]:"lighten",[a.colorDodge]:"color-dodge",[a.colorBurn]:"color-burn",[a.hardLight]:"hard-light",[a.softLight]:"soft-light",[a.difference]:"difference",[a.exclusion]:"exclusion",[a.multiply]:"multiply",[a.hue]:"hue",[a.saturation]:"saturation",[a.color]:"color",[a.luminosity]:"luminosity"};class i{constructor({codePoint:t=0,fontFamily:e="MaterialIcons",fontPackage:n=null,matchTextDirection:o=!1,fontFamilyFallback:l=null}={}){this.codePoint=t,this.fontFamily=e,this.fontPackage=n,this.matchTextDirection=o,this.fontFamilyFallback=Array.isArray(l)?l:null}getCharacter(){return String.fromCharCode(this.codePoint)}toString(){return`IconData(U+${this.codePoint.toString(16).toUpperCase().padStart(5,"0")})`}equals(t){return!t||!(t instanceof i)?!1:this.codePoint===t.codePoint&&this.fontFamily===t.fontFamily&&this.fontPackage===t.fontPackage&&this.matchTextDirection===t.matchTextDirection&&this._arrayEquals(this.fontFamilyFallback,t.fontFamilyFallback)}_arrayEquals(t,e){return!t&&!e?!0:!t||!e||t.length!==e.length?!1:t.every((n,o)=>n===e[o])}hashCode(){let t=this.codePoint;return t=(t<<5)-t+(this.fontFamily?this.fontFamily.charCodeAt(0):0),t=(t<<5)-t+(this.matchTextDirection?1:0),this.fontFamilyFallback&&this.fontFamilyFallback.forEach(e=>{t=(t<<5)-t+(e?e.charCodeAt(0):0)}),t}}class y{constructor({color:t=null,opacity:e=1,size:n=F,fill:o=null,weight:l=null,grade:s=null,opticalSize:r=null,shadows:c=null,applyTextScaling:h=!1}={}){this.color=t,this.opacity=e,this.size=n,this.fill=o,this.weight=l,this.grade=s,this.opticalSize=r,this.shadows=c,this.applyTextScaling=h}copyWith({color:t,opacity:e,size:n,fill:o,weight:l,grade:s,opticalSize:r,shadows:c,applyTextScaling:h}={}){return new y({color:t!==void 0?t:this.color,opacity:e!==void 0?e:this.opacity,size:n!==void 0?n:this.size,fill:o!==void 0?o:this.fill,weight:l!==void 0?l:this.weight,grade:s!==void 0?s:this.grade,opticalSize:r!==void 0?r:this.opticalSize,shadows:c!==void 0?c:this.shadows,applyTextScaling:h!==void 0?h:this.applyTextScaling})}}class T extends S{constructor({key:t=null,icon:e=null,size:n=null,fill:o=null,weight:l=null,grade:s=null,opticalSize:r=null,color:c=null,shadows:h=null,semanticLabel:u=null,textDirection:x=null,applyTextScaling:d=null,blendMode:g=null,fontWeight:f=null}={}){if(super(t),o!==null&&(o<0||o>1))throw new Error("fill must be between 0.0 and 1.0");if(l!==null&&l<=0)throw new Error("weight must be greater than 0.0");if(r!==null&&r<=0)throw new Error("opticalSize must be greater than 0.0");this.icon=e,this.size=n,this.fill=o,this.weight=l,this.grade=s,this.opticalSize=r,this.color=c,this.shadows=h,this.semanticLabel=u,this.textDirection=x,this.applyTextScaling=d,this.blendMode=g||a.srcOver,this.fontWeight=f}build(t){const e=this.textDirection||this._getTextDirection(t),n=this._getIconTheme(t)||new y,o=this.applyTextScaling??n.applyTextScaling??!1,l=this.size??n.size??F,s=o?this._scaleTextSize(l,t):l,r=this.fill??n.fill,c=this.weight??n.weight,h=this.grade??n.grade,u=this.opticalSize??n.opticalSize,x=this.shadows??n.shadows,d=this.icon;if(!d||!(d instanceof i))return this._buildEmptyIcon(s);const g=n.opacity??1;let f=this.color??n.color??"#000000";g!==1&&(f=this._applyOpacity(f,g));const I=this._buildFontVariations(r,c,h,u),b=this._buildInlineStyles({color:f,fontSize:s,fontFamily:d.fontFamily,fontWeight:this.fontWeight,fontFamilyFallback:d.fontFamilyFallback,shadows:x,fontVariations:I,blendMode:this.blendMode,textDirection:e});let w=this._buildIconElement(d,b);d.matchTextDirection&&e===m.rtl&&(w=this._mirrorIcon(w,s));const P=t?.element?.getElementId?.()||"icon-"+Math.random().toString(36).substr(2,9),M=t?.element?.getWidgetPath?.()||"Icon";return new p({tag:"span",props:{role:"img","aria-label":this.semanticLabel||"Icon","data-element-id":P,"data-widget-path":M,"data-widget":"Icon","data-icon-codepoint":`U+${d.codePoint.toString(16).toUpperCase()}`,title:this.semanticLabel||"",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${s}px`,height:`${s}px`}},children:[w],key:this.key})}_buildEmptyIcon(t){return new p({tag:"span",props:{style:{display:"inline-block",width:`${t}px`,height:`${t}px`}}})}_buildIconElement(t,e){return new p({tag:"span",props:{className:"fjs-icon",style:{...e,display:"inline-flex",alignItems:"center",justifyContent:"center",lineHeight:"1.0",whiteSpace:"nowrap"}},children:[t.getCharacter()]})}_mirrorIcon(t,e){return new p({tag:"span",props:{style:{display:"inline-flex",transform:"scaleX(-1)",transformOrigin:"center",width:`${e}px`,height:`${e}px`,alignItems:"center",justifyContent:"center"}},children:[t]})}_buildInlineStyles({color:t,fontSize:e,fontFamily:n,fontWeight:o,fontFamilyFallback:l,shadows:s,fontVariations:r,blendMode:c,textDirection:h}){const u={fontSize:`${e}px`,fontFamily:this._buildFontFamily(n,l),color:t,fontVariationSettings:r,textShadow:this._buildTextShadow(s),mixBlendMode:_[c]||"normal",direction:h===m.rtl?"rtl":"ltr",lineHeight:"1.0",height:"1em",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"};return o&&(u.fontWeight=this._normalizeFontWeight(o)),u}_buildFontFamily(t,e){if(!t)return"MaterialIcons, Arial, sans-serif";const n=[t];return Array.isArray(e)&&e.length>0&&n.push(...e),n.push("Arial","sans-serif"),n.map(o=>`'${o}'`).join(", ")}_buildFontVariations(t,e,n,o){const l=[];return t!=null&&l.push(`'FILL' ${t}`),e!=null&&l.push(`'wght' ${e}`),n!=null&&l.push(`'GRAD' ${n}`),o!=null&&l.push(`'opsz' ${o}`),l.length>0?l.join(", "):"normal"}_buildTextShadow(t){return!t||!Array.isArray(t)?"none":t.map(e=>{const n=e.offsetX??0,o=e.offsetY??0,l=e.blurRadius??0,s=e.color??"rgba(0, 0, 0, 0.25)";return`${n}px ${o}px ${l}px ${s}`}).join(", ")}_normalizeFontWeight(t){const e={thin:"100",extralight:"200",light:"300",normal:"400",regular:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"};return typeof t=="string"?e[t.toLowerCase()]||t:String(t)}_applyOpacity(t,e){if(!t)return t;if(t.startsWith("#")){const n=t.slice(1),o=parseInt(n.substring(0,2),16),l=parseInt(n.substring(2,4),16),s=parseInt(n.substring(4,6),16);return`rgba(${o}, ${l}, ${s}, ${e})`}return t.startsWith("rgb")?t.replace(/[\d.]+\)/,`${e})`):t}_getTextDirection(t){return typeof document<"u"?(document.documentElement.dir||document.dir||"ltr")==="rtl"?m.rtl:m.ltr:m.ltr}_getIconTheme(t){return new y}_scaleTextSize(t,e){return t}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"icon",value:this.icon}),t.push({name:"size",value:this.size}),t.push({name:"fill",value:this.fill}),t.push({name:"weight",value:this.weight}),t.push({name:"grade",value:this.grade}),t.push({name:"opticalSize",value:this.opticalSize}),t.push({name:"color",value:this.color}),t.push({name:"blendMode",value:this.blendMode}),t.push({name:"semanticLabel",value:this.semanticLabel}),this.shadows&&t.push({name:"shadows",value:this.shadows})}}const $={home:new i({codePoint:59530,fontFamily:"MaterialIcons"}),settings:new i({codePoint:59576,fontFamily:"MaterialIcons"}),search:new i({codePoint:59574,fontFamily:"MaterialIcons"}),favorite:new i({codePoint:59518,fontFamily:"MaterialIcons"}),favoriteBorder:new i({codePoint:59595,fontFamily:"MaterialIcons"}),star:new i({codePoint:59448,fontFamily:"MaterialIcons"}),starBorder:new i({codePoint:59451,fontFamily:"MaterialIcons"}),close:new i({codePoint:58829,fontFamily:"MaterialIcons"}),menu:new i({codePoint:58834,fontFamily:"MaterialIcons"}),arrowBack:new i({codePoint:58848,fontFamily:"MaterialIcons"}),arrowForward:new i({codePoint:58849,fontFamily:"MaterialIcons"}),add:new i({codePoint:57669,fontFamily:"MaterialIcons"}),delete:new i({codePoint:59506,fontFamily:"MaterialIcons"}),edit:new i({codePoint:58313,fontFamily:"MaterialIcons"}),check:new i({codePoint:58826,fontFamily:"MaterialIcons"}),checkCircle:new i({codePoint:59500,fontFamily:"MaterialIcons"}),error:new i({codePoint:59267,fontFamily:"MaterialIcons"}),errorOutline:new i({codePoint:57345,fontFamily:"MaterialIcons"}),info:new i({codePoint:59535,fontFamily:"MaterialIcons"}),warning:new i({codePoint:57346,fontFamily:"MaterialIcons"}),download:new i({codePoint:58052,fontFamily:"MaterialIcons"}),upload:new i({codePoint:58054,fontFamily:"MaterialIcons"}),refresh:new i({codePoint:58837,fontFamily:"MaterialIcons"}),moreVert:new i({codePoint:58836,fontFamily:"MaterialIcons"}),moreHoriz:new i({codePoint:58835,fontFamily:"MaterialIcons"})};export{T as Icon,i as IconData,y as IconThemeData,$ as Icons};
//# sourceMappingURL=icon.js.map
