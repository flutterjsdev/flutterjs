{
  "version": 3,
  "sources": ["../../src/material/material_app.js"],
  "sourcesContent": ["import { Widget, StatelessWidget, Element } from '../core/widget_element.js';\r\nimport { VNode } from '@flutterjs/vdom/vnode';\r\n\r\n// ============================================================================\r\n// THEME DATA\r\n// ============================================================================\r\n\r\nclass ThemeData {\r\n  constructor({\r\n    brightness = 'light',\r\n    primaryColor = '#2196F3',\r\n    primarySwatch = null,\r\n    accentColor = '#FF4081',\r\n    scaffoldBackgroundColor = '#FAFAFA',\r\n    canvasColor = '#FFF',\r\n    cardColor = '#FFF',\r\n    dividerColor = 'rgba(0, 0, 0, 0.12)',\r\n    highlightColor = 'rgba(0, 0, 0, 0.05)',\r\n    splashColor = 'rgba(0, 0, 0, 0.2)',\r\n    selectedRowColor = '#F5F5F5',\r\n    unselectedWidgetColor = 'rgba(0, 0, 0, 0.54)',\r\n    disabledColor = 'rgba(0, 0, 0, 0.38)',\r\n    textTheme = null,\r\n    fontFamily = 'Roboto, -apple-system, BlinkMacSystemFont, \"Segoe UI\"',\r\n    appBarTheme = null\r\n  } = {}) {\r\n    this.brightness = brightness;\r\n    this.primaryColor = primaryColor;\r\n    this.primarySwatch = primarySwatch;\r\n    this.accentColor = accentColor;\r\n    this.scaffoldBackgroundColor = scaffoldBackgroundColor;\r\n    this.canvasColor = canvasColor;\r\n    this.cardColor = cardColor;\r\n    this.dividerColor = dividerColor;\r\n    this.highlightColor = highlightColor;\r\n    this.splashColor = splashColor;\r\n    this.selectedRowColor = selectedRowColor;\r\n    this.unselectedWidgetColor = unselectedWidgetColor;\r\n    this.disabledColor = disabledColor;\r\n    this.textTheme = textTheme;\r\n    this.fontFamily = fontFamily;\r\n    this.appBarTheme = appBarTheme;\r\n  }\r\n\r\n  /**\r\n   * Create a dark theme\r\n   */\r\n  static dark() {\r\n    return new ThemeData({\r\n      brightness: 'dark',\r\n      primaryColor: '#1F1F1F',\r\n      scaffoldBackgroundColor: '#121212',\r\n      canvasColor: '#1E1E1E',\r\n      cardColor: '#2C2C2C',\r\n      dividerColor: 'rgba(255, 255, 255, 0.12)',\r\n      unselectedWidgetColor: 'rgba(255, 255, 255, 0.70)'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create a light theme\r\n   */\r\n  static light() {\r\n    return new ThemeData({\r\n      brightness: 'light',\r\n      primaryColor: '#2196F3',\r\n      scaffoldBackgroundColor: '#FAFAFA',\r\n      canvasColor: '#FFF',\r\n      cardColor: '#FFF'\r\n    });\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// ROUTE & NAVIGATION\r\n// ============================================================================\r\n\r\nclass Route {\r\n  constructor({ name = '/', builder = null, settings = {} } = {}) {\r\n    this.name = name;\r\n    this.builder = builder;\r\n    this.settings = settings;\r\n  }\r\n}\r\n\r\nclass Navigator {\r\n  constructor({ routes = {}, initialRoute = '/', onGenerateRoute = null, onUnknownRoute = null } = {}) {\r\n    this.routes = routes;\r\n    this.initialRoute = initialRoute;\r\n    this.onGenerateRoute = onGenerateRoute;\r\n    this.onUnknownRoute = onUnknownRoute;\r\n    this.routeStack = [];\r\n    this.currentRoute = initialRoute;\r\n  }\r\n\r\n  /**\r\n   * Navigate to a named route\r\n   */\r\n  pushNamed(routeName, { arguments: args = null } = {}) {\r\n    this.currentRoute = routeName;\r\n    this.routeStack.push(routeName);\r\n  }\r\n\r\n  /**\r\n   * Go back\r\n   */\r\n  pop() {\r\n    if (this.routeStack.length > 1) {\r\n      this.routeStack.pop();\r\n      this.currentRoute = this.routeStack[this.routeStack.length - 1];\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Get current page widget\r\n   */\r\n  getCurrentPage(context) {\r\n    const routeName = this.currentRoute;\r\n\r\n    if (this.routes[routeName]) {\r\n      return this.routes[routeName](context);\r\n    }\r\n\r\n    if (this.onGenerateRoute) {\r\n      const routeSettings = { name: routeName };\r\n      const route = this.onGenerateRoute(routeSettings);\r\n      if (route) return route.builder(context);\r\n    }\r\n\r\n    if (this.onUnknownRoute) {\r\n      const routeSettings = { name: routeName };\r\n      const route = this.onUnknownRoute(routeSettings);\r\n      return route.builder(context);\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// MATERIAL APP\r\n// ============================================================================\r\n\r\nclass MaterialApp extends StatelessWidget {\r\n  constructor({\r\n    key = null,\r\n    title = '',\r\n    theme = null,\r\n    darkTheme = null,\r\n    themeMode = 'system',\r\n    home = null,\r\n    routes = {},\r\n    initialRoute = '/',\r\n    onGenerateRoute = null,\r\n    onUnknownRoute = null,\r\n    navigatorObservers = [],\r\n    localizationsDelegates = [],\r\n    supportedLocales = [{ language: 'en' }],\r\n    locale = null,\r\n    builder = null,\r\n    color = null\r\n  } = {}) {\r\n    super(key);\r\n\r\n    this.title = title;\r\n    this.theme = theme || ThemeData.light();\r\n    this.darkTheme = darkTheme || ThemeData.dark();\r\n    this.themeMode = themeMode;\r\n    this.color = color;\r\n    this.home = home;\r\n    this.routes = routes;\r\n    this.initialRoute = initialRoute;\r\n    this.onGenerateRoute = onGenerateRoute;\r\n    this.onUnknownRoute = onUnknownRoute;\r\n    this.navigatorObservers = navigatorObservers;\r\n    this.localizationsDelegates = localizationsDelegates;\r\n    this.supportedLocales = supportedLocales;\r\n    this.locale = locale;\r\n    this.builder = builder;\r\n\r\n    // Initialize navigator\r\n    this.navigator = new Navigator({\r\n      routes: this.routes,\r\n      initialRoute: this.initialRoute,\r\n      onGenerateRoute: this.onGenerateRoute,\r\n      onUnknownRoute: this.onUnknownRoute\r\n    });\r\n\r\n    // Add home to routes if provided\r\n    if (this.home) {\r\n      this.navigator.routes['/'] = (context) => this.home;\r\n    }\r\n\r\n    // Set page title\r\n    if (typeof document !== 'undefined') {\r\n      document.title = this.title;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current theme based on themeMode\r\n   */\r\n  _getTheme() {\r\n    if (this.themeMode === 'dark') {\r\n      return this.darkTheme;\r\n    }\r\n    if (this.themeMode === 'light') {\r\n      return this.theme;\r\n    }\r\n    // system mode - detect from OS\r\n    if (typeof window !== 'undefined' && window.matchMedia) {\r\n      const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n      return isDark ? this.darkTheme : this.theme;\r\n    }\r\n    return this.theme;\r\n  }\r\n\r\n  /**\r\n   * Apply theme to document\r\n   */\r\n  _applyTheme(theme) {\r\n    if (typeof document === 'undefined') return;\r\n\r\n    const root = document.documentElement;\r\n    root.style.setProperty('--primary-color', theme.primaryColor);\r\n    root.style.setProperty('--accent-color', theme.accentColor);\r\n    root.style.setProperty('--scaffold-bg', theme.scaffoldBackgroundColor);\r\n    root.style.setProperty('--card-color', theme.cardColor);\r\n    root.style.setProperty('--divider-color', theme.dividerColor);\r\n    root.style.setProperty('--font-family', theme.fontFamily);\r\n    root.style.setProperty('--text-color', \r\n      theme.brightness === 'dark' ? '#FFF' : '#000');\r\n\r\n    // Apply body background\r\n    document.body.style.backgroundColor = theme.scaffoldBackgroundColor;\r\n    document.body.style.fontFamily = theme.fontFamily;\r\n    document.body.style.color = theme.brightness === 'dark' ? '#FFF' : '#000';\r\n  }\r\n\r\n  build(context) {\r\n    const currentTheme = this._getTheme();\r\n    this._applyTheme(currentTheme);\r\n\r\n    // Get current page\r\n    let pageWidget = this.navigator.getCurrentPage(context);\r\n\r\n    if (!pageWidget) {\r\n      pageWidget = this._buildErrorPage();\r\n    }\r\n\r\n    // Build page element\r\n    const pageElement = pageWidget.createElement?.() || pageWidget;\r\n    if (pageElement.mount) {\r\n      pageElement.mount(context.element);\r\n    }\r\n\r\n    let pageVNode = pageElement.performRebuild?.() || null;\r\n\r\n    // Wrap with builder if provided\r\n    if (this.builder) {\r\n      const wrappedWidget = this.builder(context, pageWidget);\r\n      if (wrappedWidget) {\r\n        pageVNode = wrappedWidget;\r\n      }\r\n    }\r\n\r\n    // Root container with theme\r\n    return new VNode({\r\n      tag: 'div',\r\n      props: {\r\n        style: {\r\n          width: '100%',\r\n          height: '100%',\r\n          backgroundColor: currentTheme.scaffoldBackgroundColor,\r\n          color: currentTheme.brightness === 'dark' ? '#FFF' : '#000',\r\n          fontFamily: currentTheme.fontFamily,\r\n          margin: 0,\r\n          padding: 0,\r\n          boxSizing: 'border-box',\r\n          minHeight: '100vh'\r\n        },\r\n        'data-app': 'MaterialApp',\r\n        'data-theme': currentTheme.brightness\r\n      },\r\n      children: pageVNode ? [pageVNode] : []\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Build error page when no route found\r\n   */\r\n  _buildErrorPage() {\r\n    return new StatelessWidget({\r\n      build: (context) => {\r\n        return new VNode({\r\n          tag: 'div',\r\n          props: {\r\n            style: {\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              height: '100vh',\r\n              flexDirection: 'column'\r\n            }\r\n          },\r\n          children: [\r\n            new VNode({\r\n              tag: 'h1',\r\n              props: { style: { color: '#d32f2f' } },\r\n              children: ['404: Page Not Found']\r\n            }),\r\n            new VNode({\r\n              tag: 'p',\r\n              props: { style: { color: '#666' } },\r\n              children: [`Route: ${this.navigator.currentRoute}`]\r\n            })\r\n          ]\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  createElement(parent, runtime) {\r\n    return new MaterialAppElement(this,parent, runtime);\r\n  }\r\n}\r\n\r\nclass MaterialAppElement extends Element {\r\n  performRebuild() {\r\n    return this.widget.build(this.context);\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// EXPORTS\r\n// ============================================================================\r\n\r\nexport {\r\n  MaterialApp,\r\n  MaterialAppElement,\r\n  ThemeData,\r\n  Navigator,\r\n  Route\r\n};"],
  "mappings": "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",
  "names": ["StatelessWidget", "Element", "VNode", "ThemeData", "brightness", "primaryColor", "primarySwatch", "accentColor", "scaffoldBackgroundColor", "canvasColor", "cardColor", "dividerColor", "highlightColor", "splashColor", "selectedRowColor", "unselectedWidgetColor", "disabledColor", "textTheme", "fontFamily", "appBarTheme", "Route", "name", "builder", "settings", "Navigator", "routes", "initialRoute", "onGenerateRoute", "onUnknownRoute", "routeName", "args", "context", "routeSettings", "route", "MaterialApp", "key", "title", "theme", "darkTheme", "themeMode", "home", "navigatorObservers", "localizationsDelegates", "supportedLocales", "locale", "color", "root", "currentTheme", "pageWidget", "pageElement", "pageVNode", "wrappedWidget", "parent", "runtime", "MaterialAppElement"]
}
