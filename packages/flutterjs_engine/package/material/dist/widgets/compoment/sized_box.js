import{ProxyWidget as h,ProxyElement as l}from"../../core/widget_element.js";import{VNode as f}from"@flutterjs/vdom/vnode";import{Alignment as u}from"../../utils/utils.js";import{Size as x}from"../../utils/size.js";import{BoxConstraints as d}from"../../utils/box_constraints.js";const g={max:"max",min:"min"};class s extends h{constructor({key:t=null,width:e=null,height:i=null,child:n=null}={}){super({key:t,child:n}),this.width=e,this.height=i,this._renderObject=null}static expand({key:t=null,child:e=null}={}){return new s({key:t,width:1/0,height:1/0,child:e})}static shrink({key:t=null,child:e=null}={}){return new s({key:t,width:0,height:0,child:e})}static square({key:t=null,dimension:e=0,child:i=null}={}){return new s({key:t,width:e,height:e,child:i})}static fromSize({key:t=null,size:e=null,child:i=null}={}){return new s({key:t,width:e?.width,height:e?.height,child:i})}createRenderObject(t){return{constraints:this._getConstraints()}}updateRenderObject(t,e){e.constraints=this._getConstraints()}_getConstraints(){return d.tightFor({width:this.width===1/0?null:this.width,height:this.height===1/0?null:this.height})}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"width",value:this.width}),t.push({name:"height",value:this.height})}createElement(t,e){return new w(this,t,e)}}class w extends l{performRebuild(){const t=this.getElementId(),e=this.getWidgetPath(),i={boxSizing:"border-box",flexShrink:0};this.widget.width!==null&&this.widget.width!==void 0&&(this.widget.width===1/0?(i.width="100%",i.flex="1 1 auto"):i.width=`${this.widget.width}px`),this.widget.height!==null&&this.widget.height!==void 0&&(this.widget.height===1/0?(i.height="100%",i.flex="1 1 auto"):i.height=`${this.widget.height}px`);const n=super.performRebuild();return new f({tag:"div",props:{style:i,"data-element-id":t,"data-widget-path":e,"data-widget":"SizedBox","data-width":this.widget.width,"data-height":this.widget.height},children:n?[n]:[],key:this.widget.key})}}class b extends h{constructor({key:t=null,constraints:e=null,child:i=null}={}){if(super({key:t,child:i}),!e)throw new Error("ConstrainedBox requires constraints");if(!(e instanceof d))throw new Error(`ConstrainedBox requires a BoxConstraints instance, got: ${typeof e}`);this.constraints=e,this._renderObject=null}createRenderObject(t){return{additionalConstraints:this.constraints}}updateRenderObject(t,e){e.additionalConstraints=this.constraints}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"constraints",value:this.constraints.toString()})}createElement(t,e){return new l(this,t,e)}}class p extends h{constructor({key:t=null,maxWidth:e=1/0,maxHeight:i=1/0,child:n=null}={}){if(super({key:t,child:n}),e<0||i<0)throw new Error("maxWidth and maxHeight must be >= 0");this.maxWidth=e,this.maxHeight=i,this._renderObject=null}createRenderObject(t){return{maxWidth:this.maxWidth,maxHeight:this.maxHeight}}updateRenderObject(t,e){e.maxWidth=this.maxWidth,e.maxHeight=this.maxHeight}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"maxWidth",value:this.maxWidth}),t.push({name:"maxHeight",value:this.maxHeight})}createElement(t,e){return new l(this,t,e)}}class F extends h{constructor({key:t=null,alignment:e=u.center,minWidth:i=null,maxWidth:n=null,minHeight:a=null,maxHeight:m=null,fit:o=g.max,child:c=null}={}){super({key:t,child:c}),this.alignment=e,this.minWidth=i,this.maxWidth=n,this.minHeight=a,this.maxHeight=m,this.fit=o,this._renderObject=null}createRenderObject(t){return{alignment:this.alignment,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,fit:this.fit}}updateRenderObject(t,e){e.alignment=this.alignment,e.minWidth=this.minWidth,e.maxWidth=this.maxWidth,e.minHeight=this.minHeight,e.maxHeight=this.maxHeight,e.fit=this.fit}_getAlignmentValue(t){return t==="horizontal"?this.alignment.x<0?"flex-start":this.alignment.x>0?"flex-end":"center":t==="vertical"?this.alignment.y<0?"flex-start":this.alignment.y>0?"flex-end":"center":"center"}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"alignment",value:this.alignment.toString()}),t.push({name:"fit",value:this.fit}),this.minWidth!==null&&t.push({name:"minWidth",value:this.minWidth}),this.maxWidth!==null&&t.push({name:"maxWidth",value:this.maxWidth}),this.minHeight!==null&&t.push({name:"minHeight",value:this.minHeight}),this.maxHeight!==null&&t.push({name:"maxHeight",value:this.maxHeight})}createElement(t,e){return new l(this,t,e)}}class v extends h{constructor({key:t=null,size:e=null,alignment:i=u.center,child:n=null}={}){if(super({key:t,child:n}),!e)throw new Error("SizedOverflowBox requires a size");this.size=e,this.alignment=i,this._renderObject=null}createRenderObject(t){return{requestedSize:this.size,alignment:this.alignment}}updateRenderObject(t,e){e.requestedSize=this.size,e.alignment=this.alignment}_getAlignmentValue(t){return t==="horizontal"?this.alignment.x<0?"flex-start":this.alignment.x>0?"flex-end":"center":t==="vertical"?this.alignment.y<0?"flex-start":this.alignment.y>0?"flex-end":"center":"center"}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"size",value:this.size.toString()}),t.push({name:"alignment",value:this.alignment.toString()})}createElement(t,e){return new l(this,t,e)}}class W extends h{constructor({key:t=null,offstage:e=!0,child:i=null}={}){super({key:t,child:i}),this.offstage=e,this._renderObject=null}createRenderObject(t){return{offstage:this.offstage}}updateRenderObject(t,e){e.offstage=this.offstage}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"offstage",value:this.offstage})}createElement(t,e){return new l(this,t,e)}}class H extends h{constructor({key:t=null,alignment:e=u.center,widthFactor:i=null,heightFactor:n=null,child:a=null}={}){if(super({key:t,child:a}),i!==null&&i<0)throw new Error("widthFactor must be >= 0");if(n!==null&&n<0)throw new Error("heightFactor must be >= 0");this.alignment=e,this.widthFactor=i,this.heightFactor=n,this._renderObject=null}createRenderObject(t){return{alignment:this.alignment,widthFactor:this.widthFactor,heightFactor:this.heightFactor}}updateRenderObject(t,e){e.alignment=this.alignment,e.widthFactor=this.widthFactor,e.heightFactor=this.heightFactor}_getAlignmentValue(t){return t==="horizontal"?this.alignment.x<0?"flex-start":this.alignment.x>0?"flex-end":"center":t==="vertical"?this.alignment.y<0?"flex-start":this.alignment.y>0?"flex-end":"center":"center"}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"alignment",value:this.alignment.toString()}),this.widthFactor!==null&&t.push({name:"widthFactor",value:this.widthFactor}),this.heightFactor!==null&&t.push({name:"heightFactor",value:this.heightFactor})}createElement(t,e){return new l(this,t,e)}}export{d as BoxConstraints,b as ConstrainedBox,H as FractionallySizedBox,p as LimitedBox,W as Offstage,F as OverflowBox,g as OverflowBoxFit,x as Size,s as SizedBox,v as SizedOverflowBox};
//# sourceMappingURL=sized_box.js.map
