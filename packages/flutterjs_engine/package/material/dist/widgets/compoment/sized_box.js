import{ProxyWidget as s}from"../../core/widget_element.js";import{VNode as a}from"@flutterjs/vdom/vnode";import{Alignment as u}from"../../utils/utils.js";import{Size as f}from"../../utils/size.js";import{BoxConstraints as m}from"../../utils/box_constraints.js";const o={max:"max",min:"min"};class d extends s{constructor({key:t=null,width:e=null,height:i=null,child:h=null}={}){super({key:t,child:h}),this.width=e,this.height=i,this._renderObject=null}static expand({key:t=null,child:e=null}={}){return new d({key:t,width:1/0,height:1/0,child:e})}static shrink({key:t=null,child:e=null}={}){return new d({key:t,width:0,height:0,child:e})}static square({key:t=null,dimension:e=0,child:i=null}={}){return new d({key:t,width:e,height:e,child:i})}static fromSize({key:t=null,size:e=null,child:i=null}={}){return new d({key:t,width:e?.width,height:e?.height,child:i})}createRenderObject(t){return{constraints:this._getConstraints()}}updateRenderObject(t,e){e.constraints=this._getConstraints()}_getConstraints(){return m.tightFor({width:this.width===1/0?null:this.width,height:this.height===1/0?null:this.height})}build(t){this._renderObject?this.updateRenderObject(t,this._renderObject):this._renderObject=this.createRenderObject(t);let e=null;if(this.child){const l=this.child.createElement(t.element,t.element.runtime);l.mount(t.element),e=l.performRebuild()}const i=t.element.getElementId(),h=t.element.getWidgetPath(),n={boxSizing:"border-box",flexShrink:0};return this.width!==null&&this.width!==void 0&&(this.width===1/0?(n.width="100%",n.flex="1 1 auto"):n.width=`${this.width}px`),this.height!==null&&this.height!==void 0&&(this.height===1/0?(n.height="100%",n.flex="1 1 auto"):n.height=`${this.height}px`),new a({tag:"div",props:{style:n,"data-element-id":i,"data-widget-path":h,"data-widget":"SizedBox","data-width":this.width,"data-height":this.height},children:e?[e]:[],key:this.key})}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"width",value:this.width}),t.push({name:"height",value:this.height})}createElement(t,e){return new x(this,t,e)}}class x extends s.constructor.prototype.constructor{performRebuild(){return this.widget.build(this.context)}}class b extends s{constructor({key:t=null,constraints:e=null,child:i=null}={}){if(super({key:t,child:i}),!e)throw new Error("ConstrainedBox requires constraints");if(!(e instanceof m))throw new Error(`ConstrainedBox requires a BoxConstraints instance, got: ${typeof e}`);this.constraints=e,this._renderObject=null}createRenderObject(t){return{additionalConstraints:this.constraints}}updateRenderObject(t,e){e.additionalConstraints=this.constraints}build(t){this._renderObject?this.updateRenderObject(t,this._renderObject):this._renderObject=this.createRenderObject(t);let e=null;if(this.child){const l=this.child.createElement(t.element,t.element.runtime);l.mount(t.element),e=l.performRebuild()}const i=t.element.getElementId(),h=t.element.getWidgetPath(),n={minWidth:`${this.constraints.minWidth}px`,maxWidth:`${this.constraints.maxWidth}px`,minHeight:`${this.constraints.minHeight}px`,maxHeight:`${this.constraints.maxHeight}px`,boxSizing:"border-box"};return new a({tag:"div",props:{style:n,"data-element-id":i,"data-widget-path":h,"data-widget":"ConstrainedBox","data-constraints":this.constraints.toString()},children:e?[e]:[],key:this.key})}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"constraints",value:this.constraints.toString()})}createElement(t,e){return new p(this,t,e)}}class p extends s.constructor.prototype.constructor{performRebuild(){return this.widget.build(this.context)}}class w extends s{constructor({key:t=null,maxWidth:e=1/0,maxHeight:i=1/0,child:h=null}={}){if(super({key:t,child:h}),e<0||i<0)throw new Error("maxWidth and maxHeight must be >= 0");this.maxWidth=e,this.maxHeight=i,this._renderObject=null}createRenderObject(t){return{maxWidth:this.maxWidth,maxHeight:this.maxHeight}}updateRenderObject(t,e){e.maxWidth=this.maxWidth,e.maxHeight=this.maxHeight}build(t){this._renderObject?this.updateRenderObject(t,this._renderObject):this._renderObject=this.createRenderObject(t);let e=null;if(this.child){const l=this.child.createElement(t.element,t.element.runtime);l.mount(t.element),e=l.performRebuild()}const i=t.element.getElementId(),h=t.element.getWidgetPath(),n={maxWidth:this.maxWidth===1/0?"none":`${this.maxWidth}px`,maxHeight:this.maxHeight===1/0?"none":`${this.maxHeight}px`,boxSizing:"border-box"};return new a({tag:"div",props:{style:n,"data-element-id":i,"data-widget-path":h,"data-widget":"LimitedBox","data-max-width":this.maxWidth,"data-max-height":this.maxHeight},children:e?[e]:[],key:this.key})}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"maxWidth",value:this.maxWidth}),t.push({name:"maxHeight",value:this.maxHeight})}createElement(t,e){return new O(this,t,e)}}class O extends s.constructor.prototype.constructor{performRebuild(){return this.widget.build(this.context)}}class y extends s{constructor({key:t=null,alignment:e=u.center,minWidth:i=null,maxWidth:h=null,minHeight:n=null,maxHeight:l=null,fit:g=o.max,child:c=null}={}){super({key:t,child:c}),this.alignment=e,this.minWidth=i,this.maxWidth=h,this.minHeight=n,this.maxHeight=l,this.fit=g,this._renderObject=null}createRenderObject(t){return{alignment:this.alignment,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,fit:this.fit}}updateRenderObject(t,e){e.alignment=this.alignment,e.minWidth=this.minWidth,e.maxWidth=this.maxWidth,e.minHeight=this.minHeight,e.maxHeight=this.maxHeight,e.fit=this.fit}build(t){this._renderObject?this.updateRenderObject(t,this._renderObject):this._renderObject=this.createRenderObject(t);let e=null;if(this.child){const l=this.child.createElement(t.element,t.element.runtime);l.mount(t.element),e=l.performRebuild()}const i=t.element.getElementId(),h=t.element.getWidgetPath(),n={position:"relative",overflow:"visible",display:"flex",alignItems:this._getAlignmentValue("vertical"),justifyContent:this._getAlignmentValue("horizontal")};return this.minWidth!==null&&(n.minWidth=`${this.minWidth}px`),this.maxWidth!==null&&(n.maxWidth=`${this.maxWidth}px`),this.minHeight!==null&&(n.minHeight=`${this.minHeight}px`),this.maxHeight!==null&&(n.maxHeight=`${this.maxHeight}px`),new a({tag:"div",props:{style:n,"data-element-id":i,"data-widget-path":h,"data-widget":"OverflowBox","data-fit":this.fit,"data-alignment":this.alignment.toString()},children:e?[e]:[],key:this.key})}_getAlignmentValue(t){return t==="horizontal"?this.alignment.x<0?"flex-start":this.alignment.x>0?"flex-end":"center":t==="vertical"?this.alignment.y<0?"flex-start":this.alignment.y>0?"flex-end":"center":"center"}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"alignment",value:this.alignment.toString()}),t.push({name:"fit",value:this.fit}),this.minWidth!==null&&t.push({name:"minWidth",value:this.minWidth}),this.maxWidth!==null&&t.push({name:"maxWidth",value:this.maxWidth}),this.minHeight!==null&&t.push({name:"minHeight",value:this.minHeight}),this.maxHeight!==null&&t.push({name:"maxHeight",value:this.maxHeight})}createElement(t,e){return new j(this,t,e)}}class j extends s.constructor.prototype.constructor{performRebuild(){return this.widget.build(this.context)}}class v extends s{constructor({key:t=null,size:e=null,alignment:i=u.center,child:h=null}={}){if(super({key:t,child:h}),!e)throw new Error("SizedOverflowBox requires a size");this.size=e,this.alignment=i,this._renderObject=null}createRenderObject(t){return{requestedSize:this.size,alignment:this.alignment}}updateRenderObject(t,e){e.requestedSize=this.size,e.alignment=this.alignment}build(t){this._renderObject?this.updateRenderObject(t,this._renderObject):this._renderObject=this.createRenderObject(t);let e=null;if(this.child){const l=this.child.createElement(t.element,t.element.runtime);l.mount(t.element),e=l.performRebuild()}const i=t.element.getElementId(),h=t.element.getWidgetPath(),n={position:"relative",overflow:"visible",width:`${this.size.width}px`,height:`${this.size.height}px`,display:"flex",alignItems:this._getAlignmentValue("vertical"),justifyContent:this._getAlignmentValue("horizontal")};return new a({tag:"div",props:{style:n,"data-element-id":i,"data-widget-path":h,"data-widget":"SizedOverflowBox","data-size":this.size.toString(),"data-alignment":this.alignment.toString()},children:e?[e]:[],key:this.key})}_getAlignmentValue(t){return t==="horizontal"?this.alignment.x<0?"flex-start":this.alignment.x>0?"flex-end":"center":t==="vertical"?this.alignment.y<0?"flex-start":this.alignment.y>0?"flex-end":"center":"center"}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"size",value:this.size.toString()}),t.push({name:"alignment",value:this.alignment.toString()})}createElement(t,e){return new W(this,t,e)}}class W extends s.constructor.prototype.constructor{performRebuild(){return this.widget.build(this.context)}}class R extends s{constructor({key:t=null,offstage:e=!0,child:i=null}={}){super({key:t,child:i}),this.offstage=e,this._renderObject=null}createRenderObject(t){return{offstage:this.offstage}}updateRenderObject(t,e){e.offstage=this.offstage}build(t){this._renderObject?this.updateRenderObject(t,this._renderObject):this._renderObject=this.createRenderObject(t);let e=null;if(this.child){const l=this.child.createElement(t.element,t.element.runtime);l.mount(t.element),e=l.performRebuild()}const i=t.element.getElementId(),h=t.element.getWidgetPath(),n={display:this.offstage?"none":"block",position:"relative"};return new a({tag:"div",props:{style:n,"data-element-id":i,"data-widget-path":h,"data-widget":"Offstage","data-offstage":this.offstage,"aria-hidden":this.offstage?"true":"false"},children:e?[e]:[],key:this.key})}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"offstage",value:this.offstage})}createElement(t,e){return new E(this,t,e)}}class E extends s.constructor.prototype.constructor{performRebuild(){return this.widget.build(this.context)}}class F extends s{constructor({key:t=null,alignment:e=u.center,widthFactor:i=null,heightFactor:h=null,child:n=null}={}){if(super({key:t,child:n}),i!==null&&i<0)throw new Error("widthFactor must be >= 0");if(h!==null&&h<0)throw new Error("heightFactor must be >= 0");this.alignment=e,this.widthFactor=i,this.heightFactor=h,this._renderObject=null}createRenderObject(t){return{alignment:this.alignment,widthFactor:this.widthFactor,heightFactor:this.heightFactor}}updateRenderObject(t,e){e.alignment=this.alignment,e.widthFactor=this.widthFactor,e.heightFactor=this.heightFactor}build(t){this._renderObject?this.updateRenderObject(t,this._renderObject):this._renderObject=this.createRenderObject(t);let e=null;if(this.child){const l=this.child.createElement(t.element,t.element.runtime);l.mount(t.element),e=l.performRebuild()}const i=t.element.getElementId(),h=t.element.getWidgetPath(),n={position:"relative",display:"flex",alignItems:this._getAlignmentValue("vertical"),justifyContent:this._getAlignmentValue("horizontal"),overflow:"visible"};return this.widthFactor!==null?n.width=`${this.widthFactor*100}%`:n.width="100%",this.heightFactor!==null?n.height=`${this.heightFactor*100}%`:n.height="100%",new a({tag:"div",props:{style:n,"data-element-id":i,"data-widget-path":h,"data-widget":"FractionallySizedBox","data-width-factor":this.widthFactor,"data-height-factor":this.heightFactor,"data-alignment":this.alignment.toString()},children:e?[e]:[],key:this.key})}_getAlignmentValue(t){return t==="horizontal"?this.alignment.x<0?"flex-start":this.alignment.x>0?"flex-end":"center":t==="vertical"?this.alignment.y<0?"flex-start":this.alignment.y>0?"flex-end":"center":"center"}debugFillProperties(t){super.debugFillProperties(t),t.push({name:"alignment",value:this.alignment.toString()}),this.widthFactor!==null&&t.push({name:"widthFactor",value:this.widthFactor}),this.heightFactor!==null&&t.push({name:"heightFactor",value:this.heightFactor})}createElement(t,e){return new H(this,t,e)}}class H extends s.constructor.prototype.constructor{performRebuild(){return this.widget.build(this.context)}}export{m as BoxConstraints,b as ConstrainedBox,F as FractionallySizedBox,w as LimitedBox,R as Offstage,y as OverflowBox,o as OverflowBoxFit,f as Size,d as SizedBox,v as SizedOverflowBox};
//# sourceMappingURL=sized_box.js.map
