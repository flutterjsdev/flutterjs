import{UbiquitousInheritedWidget as u,UbiquitousInheritedElement as h}from"./directionality.js";import{VNode as d}from"@flutterjs/vdom/vnode";class i{constructor(e="blur",t={}){this.type=e,this.values=t}static blur({sigmaX:e=0,sigmaY:t=0}={}){return new i("blur",{sigmaX:e,sigmaY:t})}static matrix(e){return new i("matrix",e)}toCSSFilter(){switch(this.type){case"blur":return`blur(${Math.max(this.values.sigmaX,this.values.sigmaY)}px)`;case"matrix":return`matrix(${Object.values(this.values).join(", ")})`;default:return"none"}}equals(e){return!e||!(e instanceof i)?!1:this.type===e.type&&JSON.stringify(this.values)===JSON.stringify(e.values)}toString(){return`ImageFilter(${this.type}, ${JSON.stringify(this.values)})`}}class r extends u{constructor({key:e=null,imageFilter:t=null,child:l=null}={}){if(super({key:e,child:l}),t&&!(t instanceof i))throw new Error(`ImageFilterProvider requires an ImageFilter instance, got: ${typeof t}`);this.imageFilter=t}updateShouldNotify(e){return!this.imageFilter&&!e.imageFilter?!1:!this.imageFilter||!e.imageFilter?!0:!this.imageFilter.equals(e.imageFilter)}static of(e){const t=e.dependOnInheritedWidgetOfExactType(r);if(!t)throw new Error("ImageFilterProvider.of() called with a context that does not contain an ImageFilterProvider widget. Make sure to wrap your widget tree with an ImageFilterProvider widget.");return t}static maybeOf(e){return e.getInheritedWidgetOfExactType(r)||null}build(e){let t=null;if(this.child)if(this.child.createElement){const a=this.child.createElement();a.mount(e.element),t=a.performRebuild()}else t=this.child;const l=e.element.getElementId(),n=e.element.getWidgetPath(),s=this.imageFilter?this.imageFilter.toCSSFilter():"none";return new d({tag:"div",props:{style:{position:"relative",filter:s},"data-element-id":l,"data-widget-path":n,"data-widget":"ImageFilterProvider","data-filter-type":this.imageFilter?this.imageFilter.type:"none","data-filter-css":s},children:t?[t]:[],key:this.key})}debugFillProperties(e){super.debugFillProperties(e),this.imageFilter&&(e.push({name:"imageFilter",value:this.imageFilter.toString()}),e.push({name:"filterType",value:this.imageFilter.type}),e.push({name:"cssFilter",value:this.imageFilter.toCSSFilter()}))}createElement(){return new h(this)}}export{i as ImageFilter,r as ImageFilterProvider};
//# sourceMappingURL=image_filter.js.map
