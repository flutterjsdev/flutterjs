{
  "version": 3,
  "sources": ["../../../src/widgets/compoment/opacity.js"],
  "sourcesContent": ["import { ProxyWidget } from '../../core/widget_element.js';\r\nimport { VNode } from '@flutterjs/vdom/vnode';\r\n\r\n// ============================================================================\r\n// BLEND MODE ENUM\r\n// Maps Flutter blend modes to CSS mix-blend-mode values\r\n// ============================================================================\r\n\r\nconst BlendMode = {\r\n    clear: 'clear',\r\n    src: 'src',\r\n    dst: 'dst',\r\n    srcOver: 'source-over',\r\n    dstOver: 'destination-over',\r\n    srcIn: 'source-in',\r\n    dstIn: 'destination-in',\r\n    srcOut: 'source-out',\r\n    dstOut: 'destination-out',\r\n    srcATop: 'source-atop',\r\n    dstATop: 'destination-atop',\r\n    xor: 'xor',\r\n    plus: 'lighter',\r\n    modulate: 'multiply',\r\n    screen: 'screen',\r\n    overlay: 'overlay',\r\n    darken: 'darken',\r\n    lighten: 'lighten',\r\n    colorDodge: 'color-dodge',\r\n    colorBurn: 'color-burn',\r\n    hardLight: 'hard-light',\r\n    softLight: 'soft-light',\r\n    difference: 'difference',\r\n    exclusion: 'exclusion',\r\n    multiply: 'multiply',\r\n    hue: 'hue',\r\n    saturation: 'saturation',\r\n    color: 'color',\r\n    luminosity: 'luminosity'\r\n};\r\n\r\n// ============================================================================\r\n// OPACITY WIDGET\r\n// Applies opacity to child widget (Flutter-like behavior)\r\n// ============================================================================\r\n\r\nclass Opacity extends ProxyWidget {\r\n    constructor({ key = null, opacity = 1.0, alwaysIncludeSemantics = false, child = null } = {}) {\r\n        super({ key, child });\r\n\r\n        // Validate opacity is between 0 and 1\r\n        if (typeof opacity !== 'number' || opacity < 0.0 || opacity > 1.0) {\r\n            throw new Error(\r\n                `Opacity must be between 0.0 and 1.0, got: ${opacity}`\r\n            );\r\n        }\r\n\r\n        this.opacity = opacity;\r\n        this.alwaysIncludeSemantics = alwaysIncludeSemantics;\r\n        this._renderObject = null;\r\n    }\r\n\r\n    /**\r\n     * Create render object for opacity\r\n     */\r\n    createRenderObject(context) {\r\n        return new RenderOpacity({\r\n            opacity: this.opacity,\r\n            alwaysIncludeSemantics: this.alwaysIncludeSemantics\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Update render object when widget properties change\r\n     */\r\n    updateRenderObject(context, renderObject) {\r\n        renderObject.opacity = this.opacity;\r\n        renderObject.alwaysIncludeSemantics = this.alwaysIncludeSemantics;\r\n    }\r\n\r\n    /**\r\n     * Build the widget tree\r\n     */\r\n    build(context) {\r\n        // Create or update render object\r\n        if (!this._renderObject) {\r\n            this._renderObject = this.createRenderObject(context);\r\n        } else {\r\n            this.updateRenderObject(context, this._renderObject);\r\n        }\r\n\r\n        // Build child widget\r\n        let childVNode = null;\r\n        if (this.child) {\r\n            if (this.child.createElement) {\r\n                const childElement = this.child.createElement();\r\n                childElement.mount(context.element);\r\n                childVNode = childElement.performRebuild();\r\n            } else {\r\n                childVNode = this.child;\r\n            }\r\n        }\r\n\r\n        // Apply opacity styling\r\n        const elementId = context.element.getElementId();\r\n        const widgetPath = context.element.getWidgetPath();\r\n\r\n        return new VNode({\r\n            tag: 'div',\r\n            props: {\r\n                style: {\r\n                    opacity: this.opacity,\r\n                    transition: 'opacity 0.2s ease-in-out'\r\n                },\r\n                'data-element-id': elementId,\r\n                'data-widget-path': widgetPath,\r\n                'data-widget': 'Opacity',\r\n                'data-opacity': this.opacity,\r\n                'data-always-include-semantics': this.alwaysIncludeSemantics,\r\n                role: this.alwaysIncludeSemantics ? 'img' : undefined,\r\n                'aria-opacity': this.alwaysIncludeSemantics ? this.opacity : undefined\r\n            },\r\n            children: childVNode ? [childVNode] : [],\r\n            key: this.key\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Debug properties\r\n     */\r\n    debugFillProperties(properties) {\r\n        super.debugFillProperties(properties);\r\n        properties.push({\r\n            name: 'opacity',\r\n            value: this.opacity\r\n        });\r\n\r\n        if (this.alwaysIncludeSemantics) {\r\n            properties.push({\r\n                name: 'alwaysIncludeSemantics',\r\n                value: this.alwaysIncludeSemantics,\r\n                tooltip: 'Include semantics even with 0 opacity'\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create element\r\n     */\r\n    createElement() {\r\n        return new OpacityElement(this);\r\n    }\r\n}\r\n\r\n// ============================================================================\r\n// RENDER OPACITY\r\n// Represents the render object for opacity transformation\r\n// ============================================================================\r\n\r\nclass RenderOpacity {\r\n    constructor({ opacity = 1.0, alwaysIncludeSemantics = false } = {}) {\r\n        this.opacity = opacity;\r\n        this.alwaysIncludeSemantics = alwaysIncludeSemantics;\r\n    }\r\n\r\n    /**\r\n     * Apply opacity to a DOM element\r\n     */\r\n    applyToElement(element) {\r\n        if (element) {\r\n            element.style.opacity = this.opacity;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get debug info\r\n     */\r\n    debugInfo() {\r\n        return {\r\n            type: 'RenderOpacity',\r\n            opacity: this.opacity,\r\n            alwaysIncludeSemantics: this.alwaysIncludeSemantics\r\n        };\r\n    }\r\n}\r\n\r\n// ============================================================================\r\n// OPACITY ELEMENT\r\n// Element for opacity widget\r\n// ============================================================================\r\n\r\nclass OpacityElement extends ProxyWidget.constructor.prototype.constructor {\r\n    performRebuild() {\r\n        return this.widget.build(this.context);\r\n    }\r\n}\r\n\r\nexport { Opacity, RenderOpacity, BlendMode };"],
  "mappings": "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",
  "names": ["ProxyWidget", "VNode", "BlendMode", "Opacity", "key", "opacity", "alwaysIncludeSemantics", "child", "context", "RenderOpacity", "renderObject", "childVNode", "childElement", "elementId", "widgetPath", "properties", "OpacityElement", "element"]
}
