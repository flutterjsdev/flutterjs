{
  "version": 3,
  "sources": ["../src/flutter_import_resolver.js"],
  "sourcesContent": ["/**\n * Advanced Import Resolver for Flutter.js Framework\n * \u2705 FIXED: Now handles multi-line imports correctly\n * \n * Resolution Chain:\n * 1. Parse imports from source code (single & multi-line)\n * 2. Check framework package mappings (@flutterjs/*, @package:)\n * 3. Check local project code (./src, ./lib, etc.)\n * 4. Check package cache (future: npm_modules, pub_cache, etc.)\n * 5. Return error if not found\n */\n\nimport fs from 'fs';\nimport path from 'path';\n\nclass ImportResolver {\n  constructor(options = {}) {\n    this.options = {\n      projectRoot: process.cwd(),\n      frameworkType: 'flutter-js',\n      ignoreUnresolved: false,\n      cacheEnabled: false,\n      ...options,\n    };\n\n    this.frameworkPackages = {\n      \"@flutterjs/runtime\": \"file:../../../../../src/runtime\",\n      \"@flutterjs/vdom\": \"file:../../../../../src/vdom\",\n      \"@flutterjs/analyzer\": \"file:../../../../analyzer\",\n      \"@flutterjs/material\": \"file:../../../../../package/material\",\n      \"@flutterjs/cupertino\": \"file:../../../../../package/cupertino\",\n      \"@flutterjs/foundation\": \"file:../../../../../package/foundation\",\n    };\n\n    this.customPackageMappings = {};\n    this.resolvedCache = new Map();\n    this.unresolvedCache = new Map();\n\n    this.localSearchPaths = [\n      'src',\n      'lib',\n      'packages',\n      'modules',\n      '.',\n    ];\n\n    this.results = {\n      resolved: [],\n      unresolved: [],\n      errors: [],\n    };\n  }\n\n  /**\n   * \u2705 FINAL FIX: Parse imports directly from source code\n   * Handles both single-line and multi-line imports\n   */\n  parseImportsFromSource(sourceCode, logger = null) {\n    const imports = [];\n\n    if (logger) {\n      logger.info('[ImportResolver] Starting import parsing...');\n      logger.debug(`[ImportResolver] Source code length: ${sourceCode.length} characters`);\n    }\n\n    // Regex: import ... from 'path'\n    // [\\s\\S]*? matches ANYTHING including newlines (non-greedy)\n    const importRegex = /import\\s+([\\s\\S]*?)\\s+from\\s+['\"`]([^'\"`]+)['\"`]/g;\n\n    let match;\n    let matchCount = 0;\n\n    while ((match = importRegex.exec(sourceCode)) !== null) {\n      matchCount++;\n      const importClause = match[1];\n      const modulePath = match[2];\n\n      if (logger) {\n        logger.debug(`[ImportResolver] Match #${matchCount} found`);\n        logger.debug(`  Module path: '${modulePath}'`);\n        logger.trace(`  Raw clause length: ${importClause.length} chars`);\n      }\n\n      // Parse the clause (parsing handles cleaning internally)\n      const parsed = this.parseImportClause(importClause, modulePath, logger);\n\n      if (parsed) {\n        if (logger) {\n          logger.debug(`  \u2713 Successfully parsed`);\n          logger.debug(`    Items: ${parsed.items.join(', ')}`);\n        }\n        imports.push(parsed);\n      } else {\n        if (logger) {\n          logger.warn(`  \u2717 Parse returned null - clause: ${importClause.substring(0, 100)}`);\n        }\n      }\n    }\n\n    if (logger) {\n      logger.info(`[ImportResolver] FINAL RESULT: Found ${matchCount} imports, parsed ${imports.length}`);\n      if (imports.length === 0 && matchCount === 0) {\n        logger.warn('[ImportResolver] \u26A0\uFE0F NO IMPORTS FOUND - Check regex or source code!');\n        logger.warn(`[ImportResolver] Source starts with: ${sourceCode.substring(0, 200)}`);\n      }\n      imports.forEach((imp, idx) => {\n        logger.info(`[ImportResolver]   [${idx}] ${imp.source} \u2192 [${imp.items.join(', ')}]`);\n      });\n    }\n\n    return imports;\n  }\n\n  /**\n   * \u2705 FIXED: Parse individual import clause\n   * Handles: { x, y, z }, defaultExport, * as namespace, etc.\n   * \n   * KEY FIX: Clean the clause COMPLETELY FIRST, then detect type\n   */\n  parseImportClause(clause, modulePath, logger = null) {\n    if (!clause || typeof clause !== 'string') {\n      return null;\n    }\n\n    // \u2705 CRITICAL FIX #1: Clean AGGRESSIVELY FIRST\n    // This removes ALL noise (comments, newlines, extra spaces)\n    let cleaned = clause\n      .replace(/\\/\\/.*$/gm, '')                    // Remove line comments\n      .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '')            // Remove block comments\n      .replace(/\\n/g, ' ')                         // Replace newlines with spaces\n      .replace(/\\t/g, ' ')                         // Replace tabs with spaces\n      .replace(/\\s+/g, ' ')                        // Collapse multiple spaces to one\n      .trim();                                      // Trim leading/trailing\n\n    if (logger) {\n      logger.trace(`[ImportResolver]   Original: ${clause.substring(0, 100).replace(/\\n/g, '\\\\n')}`);\n      logger.trace(`[ImportResolver]   Cleaned: \"${cleaned}\"`);\n    }\n\n    const result = {\n      source: modulePath,\n      items: [],\n      default: null,\n      namespace: null,\n      raw: clause,\n    };\n\n    // \u2705 Case 1: Namespace import: import * as name\n    const namespaceMatch = cleaned.match(/^\\*\\s+as\\s+(\\w+)$/);\n    if (namespaceMatch) {\n      result.namespace = namespaceMatch[1];\n      result.items.push(namespaceMatch[1]);\n      if (logger) logger.trace(`[ImportResolver]   \u2192 Namespace import: ${namespaceMatch[1]}`);\n      return result;\n    }\n\n    // \u2705 Case 2: Named imports with braces: { x, y, z }\n    const namedMatch = cleaned.match(/\\{(.+?)\\}/);\n    if (namedMatch) {\n      if (logger) logger.trace(`[ImportResolver]   \u2192 Found braces, extracting named imports`);\n      \n      const itemsString = namedMatch[1];\n      this.extractNamedItems(itemsString, result, logger);\n      \n      if (result.items.length > 0) {\n        return result;\n      }\n    }\n\n    // \u2705 Case 3: NO BRACES - but might be comma-separated list\n    // This happens when clause is just: \"Widget, State, StatefulWidget, ...\"\n    // (the braces were stripped by the regex that captured this clause)\n    if (!cleaned.includes('{') && cleaned.includes(',')) {\n      if (logger) logger.trace(`[ImportResolver]   \u2192 No braces but has commas, treating as named imports`);\n      \n      this.extractNamedItems(cleaned, result, logger);\n      \n      if (result.items.length > 0) {\n        return result;\n      }\n    }\n\n    // \u2705 Case 4: Default import (no braces, no commas, single identifier)\n    if (!cleaned.includes('{') && !cleaned.includes(',') && cleaned.length > 0) {\n      // Verify it's a valid identifier\n      if (/^[\\w$]+$/.test(cleaned)) {\n        result.default = cleaned;\n        result.items.push(cleaned);\n        if (logger) logger.trace(`[ImportResolver]   \u2192 Default import: ${cleaned}`);\n        return result;\n      }\n    }\n\n    // \u2705 Case 5: Combined default + named: import defaultExport, { x, y }\n    if (cleaned.includes('{') && cleaned.includes(',')) {\n      const beforeBrace = cleaned.split('{')[0].trim();\n      if (beforeBrace && beforeBrace !== ',' && /^[\\w$]+$/.test(beforeBrace)) {\n        result.default = beforeBrace;\n        // Also parse the named imports\n        const namedMatch2 = cleaned.match(/\\{(.+?)\\}/);\n        if (namedMatch2) {\n          this.extractNamedItems(namedMatch2[1], result, logger);\n        }\n        return result.items.length > 0 ? result : null;\n      }\n    }\n\n    // \u2705 Debug: Nothing matched\n    if (logger) {\n      logger.warn(`[ImportResolver]   \u26A0\uFE0F No valid import pattern detected`);\n      logger.debug(`[ImportResolver]   Cleaned was: \"${cleaned}\"`);\n    }\n\n    return null;\n  }\n\n  /**\n   * \u2705 NEW: Extract named items from a comma-separated string\n   * Handles: \"x, y, z\" and \"x as y, z as w\" patterns\n   */\n  extractNamedItems(itemsString, result, logger = null) {\n    const items = itemsString.split(',');\n    \n    if (logger) {\n      logger.trace(`[ImportResolver]     Found ${items.length} comma-separated items`);\n    }\n\n    items.forEach((item) => {\n      const trimmed = item.trim();\n      \n      // Skip empty items\n      if (!trimmed || trimmed.length === 0) return;\n      \n      // Skip if it looks like a comment left over\n      if (trimmed.startsWith('//') || trimmed.startsWith('*')) return;\n\n      // Handle \"x as y\" syntax - take the alias (the part after 'as')\n      const asMatch = trimmed.match(/^(\\w+)\\s+as\\s+(\\w+)$/);\n      let importName;\n      \n      if (asMatch) {\n        // \"x as y\" \u2192 use \"y\"\n        importName = asMatch[2];\n        if (logger) logger.trace(`[ImportResolver]       \"${asMatch[1]} as ${asMatch[2]}\" \u2192 ${importName}`);\n      } else {\n        // Simple identifier\n        importName = trimmed;\n        if (logger) logger.trace(`[ImportResolver]       \"${trimmed}\"`);\n      }\n\n      // Validate it's a proper identifier\n      if (/^[\\w$]+$/.test(importName) && !result.items.includes(importName)) {\n        result.items.push(importName);\n      }\n    });\n  }\n\n  /**\n   * Resolve imports from source code directly\n   * \u2705 NEW METHOD: Accepts sourceCode and parses multi-line imports automatically\n   */\n  resolveFromSource(sourceCode, logger = null) {\n    // Parse imports from source\n    const parsedImports = this.parseImportsFromSource(sourceCode, logger);\n\n    if (logger) {\n      logger.info(`[ImportResolver] Parsed ${parsedImports.length} import statements`);\n      parsedImports.forEach((imp, idx) => {\n        logger.debug(`[ImportResolver]   [${idx}] ${imp.source} \u2192 [${imp.items.join(', ')}]`);\n      });\n    }\n\n    // Group by source\n    const groupedBySource = {};\n    parsedImports.forEach(imp => {\n      if (!groupedBySource[imp.source]) {\n        groupedBySource[imp.source] = [];\n      }\n      groupedBySource[imp.source] = groupedBySource[imp.source].concat(imp.items);\n    });\n\n    // \u2705 Reset results before resolving\n    this.results = {\n      resolved: [],\n      unresolved: [],\n      errors: [],\n    };\n\n    // Resolve each unique source\n    Object.entries(groupedBySource).forEach(([source, items]) => {\n      this.resolve(source, items);\n    });\n\n    return {\n      imports: this.results,\n      summary: this.getSummary(),\n      parsed: parsedImports,\n    };\n  }\n\n  /**\n   * Main resolution entry point\n   * Tries multiple fallback locations\n   */\n  resolve(importPath, importedItems = [], options = {}) {\n    // Check cache first\n    const cacheKey = `${importPath}:${JSON.stringify(importedItems)}`;\n    if (this.resolvedCache.has(cacheKey)) {\n      return this.resolvedCache.get(cacheKey);\n    }\n    if (this.unresolvedCache.has(cacheKey)) {\n      return this.unresolvedCache.get(cacheKey);\n    }\n\n    const result = {\n      original: importPath,\n      items: importedItems,\n      resolved: null,\n      actualPath: null,\n      type: null,\n      source: null,\n      isValid: false,\n      reason: null,\n      fallbacks: [],\n    };\n\n    // STEP 1: Check if it's a framework package\n    if (this.isFrameworkPackage(importPath)) {\n      const stepResult = this.resolveFrameworkPackage(importPath, importedItems);\n      if (stepResult.isValid) {\n        result.resolved = stepResult.resolved;\n        result.actualPath = stepResult.actualPath;\n        result.type = 'framework';\n        result.source = 'framework';\n        result.isValid = true;\n        result.reason = 'Resolved from framework mappings';\n        this.resolvedCache.set(cacheKey, result);\n        this.results.resolved.push(result);\n        return result;\n      }\n      result.fallbacks.push({\n        step: 1,\n        tried: 'framework-package',\n        found: false,\n        reason: stepResult.reason,\n      });\n    }\n\n    // STEP 2: Check local project code\n    if (!this.isScopedPackage(importPath)) {\n      const stepResult = this.resolveLocalImport(importPath, importedItems);\n      if (stepResult.isValid) {\n        result.resolved = stepResult.resolved;\n        result.actualPath = stepResult.actualPath;\n        result.type = 'local';\n        result.source = 'local';\n        result.isValid = true;\n        result.reason = `Found in local project at ${stepResult.actualPath}`;\n        this.resolvedCache.set(cacheKey, result);\n        this.results.resolved.push(result);\n        return result;\n      }\n      result.fallbacks.push({\n        step: 2,\n        tried: 'local-code',\n        locations: stepResult.searchedLocations,\n        found: false,\n        reason: stepResult.reason,\n      });\n    }\n\n    // STEP 3: Check package cache\n    if (this.options.cacheEnabled) {\n      const stepResult = this.resolveFromCache(importPath, importedItems);\n      if (stepResult.isValid) {\n        result.resolved = stepResult.resolved;\n        result.actualPath = stepResult.actualPath;\n        result.type = 'cache';\n        result.source = 'cache';\n        result.isValid = true;\n        result.reason = `Found in package cache at ${stepResult.actualPath}`;\n        this.resolvedCache.set(cacheKey, result);\n        this.results.resolved.push(result);\n        return result;\n      }\n      result.fallbacks.push({\n        step: 3,\n        tried: 'package-cache',\n        found: false,\n        reason: stepResult.reason,\n      });\n    }\n\n    // STEP 4: Not found\n    result.isValid = false;\n    result.source = 'error';\n    result.reason = this.generateErrorMessage(importPath, result.fallbacks);\n\n    if (!this.options.ignoreUnresolved) {\n      this.results.errors.push(result);\n    }\n    this.unresolvedCache.set(cacheKey, result);\n    this.results.unresolved.push(result);\n\n    return result;\n  }\n\n  isFrameworkPackage(importPath) {\n    return importPath.startsWith('@flutterjs/') ||\n           importPath.startsWith('@package:');\n  }\n\n  isScopedPackage(importPath) {\n    return importPath.startsWith('@');\n  }\n\n  resolveFrameworkPackage(importPath, importedItems) {\n    if (this.frameworkPackages[importPath]) {\n      return {\n        isValid: true,\n        resolved: this.frameworkPackages[importPath],\n        actualPath: this.frameworkPackages[importPath],\n        reason: 'Found in framework package mappings',\n      };\n    }\n\n    if (this.customPackageMappings[importPath]) {\n      return {\n        isValid: true,\n        resolved: this.customPackageMappings[importPath],\n        actualPath: this.customPackageMappings[importPath],\n        reason: 'Found in custom package mappings',\n      };\n    }\n\n    return {\n      isValid: false,\n      reason: `Framework package \"${importPath}\" not found in mappings`,\n    };\n  }\n\n  resolveLocalImport(importPath, importedItems) {\n    const searchedLocations = [];\n\n    if (importPath.startsWith('./') || importPath.startsWith('../')) {\n      const fullPath = path.resolve(this.options.projectRoot, importPath);\n      searchedLocations.push(fullPath);\n\n      if (this.fileExists(fullPath)) {\n        return {\n          isValid: true,\n          resolved: importPath,\n          actualPath: fullPath,\n          reason: 'Relative import found',\n        };\n      }\n\n      if (this.fileExists(`${fullPath}.js`)) {\n        return {\n          isValid: true,\n          resolved: importPath,\n          actualPath: `${fullPath}.js`,\n          reason: 'Relative import found (with .js)',\n        };\n      }\n\n      return {\n        isValid: false,\n        searchedLocations,\n        reason: `Relative import not found: ${importPath}`,\n      };\n    }\n\n    for (const searchPath of this.localSearchPaths) {\n      const fullPath = path.resolve(\n        this.options.projectRoot,\n        searchPath,\n        importPath\n      );\n      searchedLocations.push(fullPath);\n\n      const indexPath = path.join(fullPath, 'index.js');\n      if (this.fileExists(indexPath)) {\n        return {\n          isValid: true,\n          resolved: importPath,\n          actualPath: indexPath,\n          reason: `Found in ${searchPath}/${importPath}/index.js`,\n        };\n      }\n\n      if (this.fileExists(`${fullPath}.js`)) {\n        return {\n          isValid: true,\n          resolved: importPath,\n          actualPath: `${fullPath}.js`,\n          reason: `Found in ${searchPath}/${importPath}.js`,\n        };\n      }\n\n      if (this.fileExists(`${fullPath}.fjs`)) {\n        return {\n          isValid: true,\n          resolved: importPath,\n          actualPath: `${fullPath}.fjs`,\n          reason: `Found in ${searchPath}/${importPath}.fjs`,\n        };\n      }\n    }\n\n    return {\n      isValid: false,\n      searchedLocations,\n      reason: `Local import not found in: ${this.localSearchPaths.join(', ')}`,\n    };\n  }\n\n  resolveFromCache(importPath, importedItems) {\n    return {\n      isValid: false,\n      reason: 'Package cache resolution not yet implemented',\n    };\n  }\n\n  fileExists(filePath) {\n    try {\n      return fs.existsSync(filePath);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  generateErrorMessage(importPath, fallbacks) {\n    let message = `\u274C Import not found: \"${importPath}\"\\n\\nResolution chain:\\n`;\n\n    fallbacks.forEach((step) => {\n      message += `  ${step.step}. Checked ${step.tried}: NOT FOUND\\n`;\n\n      if (step.locations) {\n        message += `     Locations searched:\\n`;\n        step.locations.forEach((loc) => {\n          message += `       - ${loc}\\n`;\n        });\n      }\n\n      if (step.reason) {\n        message += `     (${step.reason})\\n`;\n      }\n    });\n\n    message += `\\nSuggestions:\\n`;\n    message += `  \u2022 Verify the import path is correct\\n`;\n    message += `  \u2022 Check that the file exists in your project\\n`;\n    message += `  \u2022 Add a custom package mapping if needed: addPackageMapping()\\n`;\n\n    return message;\n  }\n\n  resolveImports(imports) {\n    this.results = {\n      resolved: [],\n      unresolved: [],\n      errors: [],\n    };\n\n    imports.forEach((imp) => {\n      this.resolve(imp.source, imp.items);\n    });\n\n    return {\n      imports: this.results,\n      summary: this.getSummary(),\n    };\n  }\n\n  addPackageMapping(packageName, actualPath) {\n    if (packageName.startsWith('@flutterjs/') || packageName.startsWith('@package:')) {\n      this.customPackageMappings[packageName] = actualPath;\n      console.log(`\u2713 Added mapping: ${packageName} \u2192 ${actualPath}`);\n    } else {\n      console.warn(`\u26A0 Framework mappings should start with @flutterjs/ or @package:`);\n    }\n  }\n\n  addPackageMappings(mappings) {\n    Object.entries(mappings).forEach(([pkg, path]) => {\n      this.addPackageMapping(pkg, path);\n    });\n  }\n\n  getPackageMappings() {\n    return {\n      framework: this.frameworkPackages,\n      custom: this.customPackageMappings,\n    };\n  }\n\n  setLocalSearchPaths(paths) {\n    this.localSearchPaths = paths;\n    console.log(`\u2713 Set local search paths: ${paths.join(', ')}`);\n  }\n\n  getSummary() {\n    const total = this.results.resolved.length + this.results.unresolved.length;\n    const resolved = this.results.resolved.length;\n    const unresolved = this.results.unresolved.length;\n\n    return {\n      total,\n      resolved,\n      unresolved,\n      errors: this.results.errors.length,\n      resolutionRate: total > 0 ? ((resolved / total) * 100).toFixed(2) + '%' : 'N/A',\n      bySource: {\n        framework: this.results.resolved.filter((r) => r.source === 'framework').length,\n        local: this.results.resolved.filter((r) => r.source === 'local').length,\n        cache: this.results.resolved.filter((r) => r.source === 'cache').length,\n      },\n    };\n  }\n\n  generateReport() {\n    const summary = this.getSummary();\n\n    let report = `\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551         IMPORT RESOLUTION REPORT                                          \u2551\n\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D\n\n\uD83D\uDCCA Summary\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  Total Imports:    ${summary.total}\n  \u2713 Resolved:       ${summary.resolved} (${summary.resolutionRate})\n  \u2717 Unresolved:     ${summary.unresolved}\n  \u26A0 Errors:         ${summary.errors}\n\n\uD83D\uDCCD Resolution Sources\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  Framework:        ${summary.bySource.framework}\n  Local Code:       ${summary.bySource.local}\n  Package Cache:    ${summary.bySource.cache}\n\n${this.results.unresolved.length > 0 ? `\n\u26A0\uFE0F  UNRESOLVED IMPORTS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n${this.results.unresolved\n          .map(\n            (imp) =>\n              `  \u2717 ${imp.original}\n     Reason: ${imp.reason}`\n          )\n          .join('\\n')}\n` : ''}\n\n${this.results.errors.length > 0 ? `\n\uD83D\uDD34 ERRORS\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n${this.results.errors.map((err) => `  \u2022 ${err.reason}`).join('\\n')}\n` : ''}\n`;\n\n    return report;\n  }\n\n  clearCache() {\n    this.resolvedCache.clear();\n    this.unresolvedCache.clear();\n    console.log('\u2713 Resolution cache cleared');\n  }\n}\n\nexport { ImportResolver };"],
  "mappings": "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",
  "names": ["fs", "path", "ImportResolver", "options", "sourceCode", "logger", "imports", "importRegex", "match", "matchCount", "importClause", "modulePath", "parsed", "imp", "idx", "clause", "cleaned", "result", "namespaceMatch", "namedMatch", "itemsString", "beforeBrace", "namedMatch2", "items", "item", "trimmed", "asMatch", "importName", "parsedImports", "groupedBySource", "source", "importPath", "importedItems", "cacheKey", "stepResult", "searchedLocations", "fullPath", "searchPath", "indexPath", "filePath", "fallbacks", "message", "step", "loc", "packageName", "actualPath", "mappings", "pkg", "paths", "total", "resolved", "unresolved", "r", "summary", "err"]
}
